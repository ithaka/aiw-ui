<nav-menu></nav-menu>
<div id="mainContent" tabindex="-1" class="container main-content">
    <h1 class="hidden">Artstor Home Page</h1><!--for accessibility so that page has title-->
    <div class="row">
        <div class="col-sm-4">
            <ang-search></ang-search>
            <div id="mainContent" class="card pt-2">
                <div class="card-header">
                    <h2 class="h1">{{ 'HOME.BROWSE.TITLE' | translate }}</h2>
                </div>
                <ul class="list-group list-group-flush list-group-clean">
                    <a id="linkBrowseGeography" class="list-group-item" [routerLink]="['/browse','library', {viewId: 260}]">
                        <h3 class="browse-category">{{ 'HOME.BROWSE.GEO_HEADING' | translate }}</h3>
                        <p class="small">{{ 'HOME.BROWSE.GEO_LIST' | translate }}</p>
                    </a>
                    <a id="linkBrowseClassification" class="list-group-item" [routerLink]="['/browse','library', {viewId: 250}]">
                        <h3 class="browse-category">{{ 'HOME.BROWSE.CLASS_HEADING' | translate }}</h3>
                        <p class="small">{{ 'HOME.BROWSE.CLASS_LIST' | translate }}</p>
                    </a>
                    <a id="linkBrowseCollection" class="list-group-item" [routerLink]="['/browse','library', {viewId: 103}]">
                        <h3 class="browse-category">{{ 'HOME.BROWSE.COLL_HEADING' | translate }}</h3>
                        <p class="small">{{ 'HOME.BROWSE.COLL_LIST' | translate }}</p>
                    </a>
                    <a id="linkBrowseTeaching" class="list-group-item" [routerLink]="['/browse','groups', 'public']">
                        <h3 class="browse-category">{{ 'HOME.BROWSE.TEACHING_HEADING' | translate }}</h3>
                        <p class="small">{{ 'HOME.BROWSE.TEACHING_LIST' | translate }}</p>
                    </a>
                    <a id="linkBrowseIGs" class="list-group-item" [routerLink]="['/browse','groups', 'institution']">
                        <h3 class="browse-category">{{ 'HOME.BROWSE.GROUPS_HEADING' | translate }}</h3>
                        <p class="small">{{ 'HOME.BROWSE.GROUPS_LIST' | translate }}</p>
                    </a>
                </ul>

            </div>
             <!-- Institution Shared Shelf Collections-->
            <div *ngIf="institution && instCollections.length > 0" class="card">
                <div class="card-header">
                    <h2 translate [translateParams]="{ institutionName: institution.displayName ? institution.displayName : 'Institutional' }">HOME.HEADINGS.INSTITUTION_COLLECTIONS</h2>
                </div>
                <div class="list--home-collections" [class.loading]="loaders['instCollections']">
                    <div class="list-group list-group-flush">
                        <a *ngFor="let collection of instCollections" class="list-group-item list-group-item-action" [routerLink]="[ '/collection', collection.collectionid ]">
                                {{ collection.collectionname }}
                        </a>
                    </div>
                </div>
                <div *ngIf="errors.instCollections" class="card-block">
                    <div id="errorCollectionsLoading" class="alert alert-warning" role="alert">
                        <strong>Error</strong> {{ errors.instCollections }}
                    </div>
                </div>
            </div>
            <!--Shared Shelf Commons Collections-->
            <div class="card pb-3">
                <div class="card-header">
                    <h2>{{ 'HOME.HEADINGS.SSC' | translate }}</h2>
                </div>
                <a (click)="featuredCollection.focus()" (keydown.enter)="featuredCollection.focus()" tabindex="0" class="link sr-only sr-only-focusable">{{ 'HOME.LINKS.SKIP_COLLECTIONS' | translate }}</a>
                <div class="list--home-collections" [class.loading]="loaders['collections']">
                    <ul class="list-group list-group-flush">
                        <li *ngFor="let collection of collections"><a class="list-group-item list-group-item-action" [routerLink]="[ '/collection', collection.collectionid ]">
                            {{ collection.collectionname }}
                        </a></li>
                    </ul>
                </div>
                <div *ngIf="errors.collections" class="card-block">
                    <div id="errorCollectionsLoading" class="alert alert-warning" role="alert">
                        <strong>Error</strong> {{ errors.collections }}
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-5">
            <a #featuredCollection id="featuredCollectionLink" class="card featured-card" [attr.href]=" 'HOME.FEATURED.LINK' | translate "> 
                <img class="card-img-top no-stretch" [attr.src]="'HOME.FEATURED.IMG_SOURCE' | translate" [attr.alt]="'HOME.FEATURED.ALT_TEXT' | translate" [attr.title]="'HOME.FEATURED.LINK_TITLE' | translate">
                <div class="card-body pt-1">
                    <label style="margin-bottom:0px;">{{ 'HOME.FEATURED.HEADING' | translate }}</label>
                    <p style="margin-bottom:6px;">{{ 'HOME.FEATURED.SUBHEADING' | translate }}</p>
                </div>
                <div class="featured-caption">{{ 'HOME.FEATURED.DESCRIPTION' | translate }}</div>
            </a>
            <div class="card">
                <div class="card-header">
                    <h2>{{ 'HOME.HEADINGS.FRM_BLOG' | translate}}</h2>
                </div>
                <div class="loading" *ngIf="blogLoading"></div>
                <div *ngIf="!blogLoading">
                    <a class="blog-post" *ngFor="let post of blogPosts | slice:0:3" [href]="post['URL']" target="_blank">
                        <h3 class="blog-post__title" [innerHtml]="post.title"></h3>
                        <p class="blog-post__preview" [innerHtml]="post.excerpt"></p>
                    </a>
                </div>
            </div>
        </div>
        <div class="col-sm-3">
            <a id="imageAdSpaceLink" class="card hidden-xs-down" [attr.href]=" 'HOME.ADD.LINK' | translate " target="_blank">
                <img class="card-img no-stretch" [attr.src]="'HOME.AD.IMG_SOURCE' | translate" [attr.alt]="'HOME.AD.ALT_TEXT' | translate">
            </a>
            <div class="card pt-4">
                <div class="card-header">
                    <h3>{{ 'HOME.QUESTIONS.HEADING' | translate }}</h3>
                </div>
                 <ul class="list-group list-group-flush list-group-clean">
                    <a id="linkEmailInstitutionContact" class="list-group-item small" [href]="institution.institutionContact && institution.institutionContact[0] && institution.institutionContact[0].email ? 'mailto:' + institution.institutionContact[0].email : 'mailto:userservices@artstor.org'">
                        {{ 'HOME.QUESTIONS.EMAIL_INSTITUTION' | translate }}
                    </a>
                    <a id="linkEmailArtstor" class="list-group-item small" href="mailto:userservices@artstor.org">
                        {{ 'HOME.QUESTIONS.EMAIL_ARTSTOR' | translate }}
                    </a>
                    <a id="linkArtstorWebinar" class="list-group-item small" href="http://www.artstor.org/webinars?view=ADL" target="_blank">
                        {{ 'HOME.QUESTIONS.WEBINAR' | translate }}
                    </a>
                    <a id="linkArtstorSurvey" class="list-group-item small" href="https://www.surveymonkey.com/r/TW9SKC6" target="_blank">
                        {{ 'HOME.QUESTIONS.SURVEY' | translate }}
                    </a>
                    <li id="itemArtstorAccess" class="list-group-item small" *ngIf="institution.displayName">
                        {{ 'HOME.ACCESS_PROVIDED_BY' | translate }}<br/>
                        <b>{{ institution.displayName }}</b>
                    </li>
                </ul>
            </div>

        </div>
    </div>
</div>