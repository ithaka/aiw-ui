<div class="container main-content">
    <div class="row">
        <div class="col-sm-6">
            <div class="card card--light">
                <div class="card-header">
                    <h1 translate id="loginHeading">LOGIN.LOGIN_HEADING</h1>
                </div>
                <div class="card-body">
                    <form (ngSubmit)="login(user)">
                        <div class="form-group">
                            <label for="loginEmail">Email Address</label>
                            <input id="inputLoginEmail" [(ngModel)]="user.username" name="username" type="text" class="form-control" placeholder="Username" tabindex="1" />
                        </div>
                        <div class="form-group">
                            <label for="loginPassword">Password</label>
                            <input id="inputLoginPassword" [(ngModel)]="user.password" name="password" type="password" class="form-control" placeholder="Password" tabindex="2" />
                            <div id="errorMsg" *ngIf="errorMsg" class="form-text text-danger"> {{ errorMsg | translate }} </div>
                            <p *ngIf="forcePwdRst" class="form-text text-danger">For security purposes, we need you to <a id="forcePwdResetModal" (click)="showPwdModal = true" class="link">reset your password</a> in order to log in.</p>
                        </div>
                        <p [innerHtml]="'LOGIN.TERMS' | translate"></p>
                        <div class="form-group">
                            <button id="btnLoginRemote" class="btn btn-primary" [class.loading]="loginLoading" type="submit" name="action" tabindex="3"  data-sc="account: remote user log in">Log in</button>
                        </div>
                    </form>
                    <a id="linkLoginResetModal" tabindex="4" class="link" (click)="showPwdModal = true">Forgot password?</a>
                    <br/>
                    <div *ngIf="showRegister">
                        <a [routerLink]="['/register']" tabindex="5" class="link">Not Registered?</a>
                        <br/>
                    </div>
                    <a tabindex="6" href="http://support.artstor.org/?article-category=03-accessing-the-artstor-digital-library" class="link" target="_blank">Login Help</a>
                </div>
                <div class="block-right">
                    <a tabindex="7" class="link" (click)="toggleAccessHelpModal()">How do I get access?</a>
                </div>
            </div>
        </div>

        <div class="col-sm-6">
            <div class="card card--v-pad">
                <div class="card-header">
                    <h1 translate id="institutionHeading">LOGIN.INSTITUTION_HEADING</h1>
                </div>
                <div class="card-body">
                    <div class="form-group">
                        <label>Select your institution's name</label>
                        <ng2-completer [(ngModel)]="loginInstName" name="institutionSelector" 
                            [datasource]="dataService" 
                            [minSearchLength]="0" 
                            [openOnFocus]="true" 
                            [placeholder]="'Type to search...'"
                            [textSearching]="'Searching Institutions...'"
                            [clearUnselected]="true"></ng2-completer>
                        <div *ngIf="instErrorMsg" class="login-errorMsg"> {{ instErrorMsg }} </div>
                    </div>
                    <div class="form-group">
                        <p [innerHtml]="'LOGIN.TERMS' | translate"></p>
                        <p translate class="small">LOGIN.INSTITUTION_LIST_INFO</p>
                    </div>
                    <div class="form-group">
                        <button id="btnLoginProxy" (click)="goToInstLogin()" class="btn btn-primary" type="submit" name="action" tabindex="9" data-sc="account: institutional user log in">Log in</button>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
<!--.container-->

<div id="helpModal" class="modal" [ngClass]="{'show': showHelpModal }">
    <!-- Login Help Modal -->
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 translate>ACCESS_HELP_MODAL.HEADING</h5>
                <button (click)="toggleAccessHelpModal()" type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div [innerHtml]="'ACCESS_HELP_MODAL.PROMPT' | translate" class="modal-body"></div>
            <div class="modal-footer">
                    <button id="btnLoginDismissHelp" class="btn btn-primary" (click)="toggleAccessHelpModal()">Ok</button>
            </div>
        </div>
    </div>
</div>

<ang-pwd-reset-modal *ngIf="showPwdModal" (closeModal)="showPwdModal = false"></ang-pwd-reset-modal>