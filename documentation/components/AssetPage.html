<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>avatar documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	    <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">avatar documentation</a>
            <button type="button" class="btn btn-default btn-menu fa fa-bars" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
            <div id="book-search-input" role="search">
                <input type="text" placeholder="Type to search">
            </div>
            <nav>
            
                <ul class="list">
            
                    <li class="title">
                        <a href="../">avatar documentation</a>
                    </li>
            
                    <li class="divider"></li>
            
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../"><span class="fa fa-home"></span>Getting started</a>
                        <ul class="links">
                                <li class="link">
                                    <a href="../" ><span class="fa fa-file-text-o"></span>README</a>
                                </li>
                                <li class="link">
                                    <a 
                                        
                                         href="../overview.html" 
                                         href="../overview.html" 
                                        >
                                        <span class="fa fa-th"></span>Overview
                                    </a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="./modules.html" >
                            <span class="fa fa-archive"></span>
                            <span>Modules</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-modules-links"
                            ></span>
                        </a>
                        <ul class="links collapse in"
                                id="xs-modules-links"
                            >
                                <li class="link">
                                    <a href="../modules/AppModule.html" >AppModule</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-cogs"></span>
                            <span>Components</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-components-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-components-links"
                            >
                                <li class="link">
                                    <a href="../components/AccessDeniedModal.html" >AccessDeniedModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/AccountPage.html" >AccountPage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/AddToGroupModal.html" >AddToGroupModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/AgreeModalComponent.html" >AgreeModalComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/App.html" >App</a>
                                </li>
                                <li class="link">
                                    <a href="../components/AssetFilters.html" >AssetFilters</a>
                                </li>
                                <li class="link">
                                    <a href="../components/AssetGrid.html" >AssetGrid</a>
                                </li>
                                <li class="link">
                                    <a href="../components/AssetPPPage.html" >AssetPPPage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/AssetPage.html"  class="active" >AssetPage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/AssociatedPage.html" >AssociatedPage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/BrowseCommonsComponent.html" >BrowseCommonsComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/BrowseGroupsComponent.html" >BrowseGroupsComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/BrowseInstitutionComponent.html" >BrowseInstitutionComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/BrowsePage.html" >BrowsePage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/CardViewComponent.html" >CardViewComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/CategoryPage.html" >CategoryPage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ChangePasswordModal.html" >ChangePasswordModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ClusterPage.html" >ClusterPage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/CollectionBadgeComponent.html" >CollectionBadgeComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/CollectionPage.html" >CollectionPage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ConfirmModal.html" >ConfirmModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/DeleteIgModal.html" >DeleteIgModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/DownloadLimitModal.html" >DownloadLimitModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/EditPersonalCollectionModal.html" >EditPersonalCollectionModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/FeaturedComponent.html" >FeaturedComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/Footer.html" >Footer</a>
                                </li>
                                <li class="link">
                                    <a href="../components/GeneralSearchComponent.html" >GeneralSearchComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/GenerateCitation.html" >GenerateCitation</a>
                                </li>
                                <li class="link">
                                    <a href="../components/GuideTourComponent.html" >GuideTourComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/Home.html" >Home</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ImageGroupPPPage.html" >ImageGroupPPPage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ImageGroupPage.html" >ImageGroupPage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/LibraryComponent.html" >LibraryComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/LinkPage.html" >LinkPage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/Login.html" >Login</a>
                                </li>
                                <li class="link">
                                    <a href="../components/LoginFormComponent.html" >LoginFormComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/LoginReqModal.html" >LoginReqModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/MyCollectionsComponent.html" >MyCollectionsComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/Nav.html" >Nav</a>
                                </li>
                                <li class="link">
                                    <a href="../components/NavMenu.html" >NavMenu</a>
                                </li>
                                <li class="link">
                                    <a href="../components/NewIgModal.html" >NewIgModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/NoContent.html" >NoContent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/NoIgModal.html" >NoIgModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/PCollectionPage.html" >PCollectionPage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/PaginationComponent.html" >PaginationComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/PptModalComponent.html" >PptModalComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/PromptComponent.html" >PromptComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/PwdResetModal.html" >PwdResetModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/RegisterComponent.html" >RegisterComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/RegisterJstorModal.html" >RegisterJstorModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SearchComponent.html" >SearchComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SearchModal.html" >SearchModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SearchPage.html" >SearchPage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ServerErrorModal.html" >ServerErrorModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SessionExpireModal.html" >SessionExpireModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ShareIgLinkModal.html" >ShareIgLinkModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ShareLinkModal.html" >ShareLinkModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SkyBannerComponent.html" >SkyBannerComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/TagComponent.html" >TagComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/TagsListComponent.html" >TagsListComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ThumbnailComponent.html" >ThumbnailComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/UploaderComponent.html" >UploaderComponent</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-code"></span>
                            <span>Directives</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-directives-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-directives-links"
                            >
                                <li class="link">
                                    <a href="../directives/ClickOutsideDirective.html" >ClickOutsideDirective</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-file-code-o"></span>
                            <span>Classes</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-classes-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-classes-links"
                            >
                                <li class="link">
                                    <a href="../classes/Asset.html" >Asset</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/CollectionTypeHandler.html" >CollectionTypeHandler</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/CustomReuseStrategy.html" >CustomReuseStrategy</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/CustomUrlSerializer.html" >CustomUrlSerializer</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/IdleWatcherUtil.html" >IdleWatcherUtil</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/IgFormUtil.html" >IgFormUtil</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/SearchQueryUtil.html" >SearchQueryUtil</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Tag.html" >Tag</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/TagFilter.html" >TagFilter</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/User.html" >User</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../routes.html" ><span class="fa fa-code-fork"></span>Routes</a>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-long-arrow-down"></span>
                            <span>Injectables</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-injectables-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-injectables-links"
                            >
                                <li class="link">
                                    <a href="../injectables/AccountService.html" >AccountService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/AppConfig.html" >AppConfig</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/AssetFiltersService.html" >AssetFiltersService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/AssetSearchService.html" >AssetSearchService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/AssetService.html" >AssetService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/AuthService.html" >AuthService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/DataResolver.html" >DataResolver</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/FlagService.html" >FlagService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/GroupService.html" >GroupService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/GroupsRouteResolver.html" >GroupsRouteResolver</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/ImageGroupService.html" >ImageGroupService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/InstitutionsService.html" >InstitutionsService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/LegacyRouteResolver.html" >LegacyRouteResolver</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/LocalPCService.html" >LocalPCService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/LockerService.html" >LockerService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/LogService.html" >LogService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/MetadataService.html" >MetadataService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/PersonalCollectionService.html" >PersonalCollectionService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/ScriptService.html" >ScriptService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/TagFiltersService.html" >TagFiltersService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/TagsService.html" >TagsService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/TitleService.html" >TitleService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/ToolboxService.html" >ToolboxService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/UnauthorizedInterceptor.html" >UnauthorizedInterceptor</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-info"></span>
                            <span>Interfaces</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-interfaces-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-interfaces-links"
                            >
                                <li class="link">
                                    <a href="../interfaces/AssetData.html" >AssetData</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/AssetDataResponse.html" >AssetDataResponse</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/AssetDetailField.html" >AssetDetailField</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/AssetDetailsFormValue.html" >AssetDetailsFormValue</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/AssetDetailsRequestObject.html" >AssetDetailsRequestObject</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/CollectionTypeInfo.html" >CollectionTypeInfo</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/CollectionValue.html" >CollectionValue</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/DeletePersonalAssetResponse.html" >DeletePersonalAssetResponse</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/FacetGroup.html" >FacetGroup</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/FacetObject.html" >FacetObject</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/FeaturedCollection.html" >FeaturedCollection</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/FileProperty.html" >FileProperty</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/FlagServiceResponse.html" >FlagServiceResponse</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/FormattedMetadata.html" >FormattedMetadata</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/GetPersonalCollectionResponse.html" >GetPersonalCollectionResponse</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/GroupFilter.html" >GroupFilter</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/GroupList.html" >GroupList</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/GroupQuery.html" >GroupQuery</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/HierarchicalFilter.html" >HierarchicalFilter</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/IgFormValue.html" >IgFormValue</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/ImageFPXResponse.html" >ImageFPXResponse</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/ImageGroup.html" >ImageGroup</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/ImageGroupDescription.html" >ImageGroupDescription</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/ImageGroupItem.html" >ImageGroupItem</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/LocalPCAsset.html" >LocalPCAsset</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/LogMessage.html" >LogMessage</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/LogResponse.html" >LogResponse</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/MediaObject.html" >MediaObject</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/MetadataField.html" >MetadataField</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/MetadataRes.html" >MetadataRes</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/MetadataResponse.html" >MetadataResponse</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/PersonalCollectionUploadAsset.html" >PersonalCollectionUploadAsset</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/PostPersonalCollectionResponse.html" >PostPersonalCollectionResponse</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/RawFile.html" >RawFile</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/RawSearchAsset.html" >RawSearchAsset</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/RawSearchResponse.html" >RawSearchResponse</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/RouteStorageObject.html" >RouteStorageObject</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/SSLoginResponse.html" >SSLoginResponse</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/Scripts.html" >Scripts</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/SearchAsset.html" >SearchAsset</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/SearchOptions.html" >SearchOptions</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/SearchParams.html" >SearchParams</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/SearchRequest.html" >SearchRequest</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/SearchResponse.html" >SearchResponse</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/SelectedFilter.html" >SelectedFilter</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/SolrFacet.html" >SolrFacet</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/Thumbnail.html" >Thumbnail</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/TourStep.html" >TourStep</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/UpdateUserResponse.html" >UpdateUserResponse</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/User.html" >User</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/UserRolesAndDepts.html" >UserRolesAndDepts</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/categoryName.html" >categoryName</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/iTagFilter.html" >iTagFilter</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/updatepcImageMetadataResponse.html" >updatepcImageMetadataResponse</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-plus"></span>
                            <span>Pipes</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-pipes-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-pipes-links"
                            >
                                <li class="link">
                                    <a href="../pipes/IgGroupFilterPipe.html" >IgGroupFilterPipe</a>
                                </li>
                                <li class="link">
                                    <a href="../pipes/KeysPipe.html" >KeysPipe</a>
                                </li>
                                <li class="link">
                                    <a href="../pipes/LinkifyPipe.html" >LinkifyPipe</a>
                                </li>
                                <li class="link">
                                    <a href="../pipes/TypeIdPipe.html" >TypeIdPipe</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../miscellaneous.html" ><span class="fa fa-cubes"></span>Miscellaneous</a>
                    </li>
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../coverage.html" ><span class="fa fa-tasks"></span>Documentation coverage</a>
                    </li>
            
                    <li class="divider"></li>
                    <li class="copyright">
                            Documentation generated using <a href="https://compodoc.github.io/compodoc/" target="_blank">
                                        <img src="..//images/compodoc-vectorise.svg" class="img-responsive">
                            </a>
                    </li>
            
                </ul>
            
            </nav>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <nav>
                   
                       <ul class="list">
                   
                           <li class="title">
                               <a href="../">avatar documentation</a>
                           </li>
                   
                           <li class="divider"></li>
                   
                               <div id="book-search-input" role="search">
                                   <input type="text" placeholder="Type to search">
                               </div>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../"><span class="fa fa-home"></span>Getting started</a>
                               <ul class="links">
                                       <li class="link">
                                           <a href="../" ><span class="fa fa-file-text-o"></span>README</a>
                                       </li>
                                       <li class="link">
                                           <a 
                                               
                                                href="../overview.html" 
                                                href="../overview.html" 
                                               >
                                               <span class="fa fa-th"></span>Overview
                                           </a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="./modules.html" >
                                   <span class="fa fa-archive"></span>
                                   <span>Modules</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#modules-links"
                                   ></span>
                               </a>
                               <ul class="links collapse in"
                                       id="modules-links"
                   >
                                       <li class="link">
                                           <a href="../modules/AppModule.html" >AppModule</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-cogs"></span>
                                   <span>Components</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#components-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="components-links"
                   >
                                       <li class="link">
                                           <a href="../components/AccessDeniedModal.html" >AccessDeniedModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/AccountPage.html" >AccountPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/AddToGroupModal.html" >AddToGroupModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/AgreeModalComponent.html" >AgreeModalComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/App.html" >App</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/AssetFilters.html" >AssetFilters</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/AssetGrid.html" >AssetGrid</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/AssetPPPage.html" >AssetPPPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/AssetPage.html"  class="active" >AssetPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/AssociatedPage.html" >AssociatedPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/BrowseCommonsComponent.html" >BrowseCommonsComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/BrowseGroupsComponent.html" >BrowseGroupsComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/BrowseInstitutionComponent.html" >BrowseInstitutionComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/BrowsePage.html" >BrowsePage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/CardViewComponent.html" >CardViewComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/CategoryPage.html" >CategoryPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ChangePasswordModal.html" >ChangePasswordModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ClusterPage.html" >ClusterPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/CollectionBadgeComponent.html" >CollectionBadgeComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/CollectionPage.html" >CollectionPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ConfirmModal.html" >ConfirmModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/DeleteIgModal.html" >DeleteIgModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/DownloadLimitModal.html" >DownloadLimitModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/EditPersonalCollectionModal.html" >EditPersonalCollectionModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/FeaturedComponent.html" >FeaturedComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/Footer.html" >Footer</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/GeneralSearchComponent.html" >GeneralSearchComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/GenerateCitation.html" >GenerateCitation</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/GuideTourComponent.html" >GuideTourComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/Home.html" >Home</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ImageGroupPPPage.html" >ImageGroupPPPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ImageGroupPage.html" >ImageGroupPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/LibraryComponent.html" >LibraryComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/LinkPage.html" >LinkPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/Login.html" >Login</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/LoginFormComponent.html" >LoginFormComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/LoginReqModal.html" >LoginReqModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/MyCollectionsComponent.html" >MyCollectionsComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/Nav.html" >Nav</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/NavMenu.html" >NavMenu</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/NewIgModal.html" >NewIgModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/NoContent.html" >NoContent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/NoIgModal.html" >NoIgModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/PCollectionPage.html" >PCollectionPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/PaginationComponent.html" >PaginationComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/PptModalComponent.html" >PptModalComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/PromptComponent.html" >PromptComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/PwdResetModal.html" >PwdResetModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/RegisterComponent.html" >RegisterComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/RegisterJstorModal.html" >RegisterJstorModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SearchComponent.html" >SearchComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SearchModal.html" >SearchModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SearchPage.html" >SearchPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ServerErrorModal.html" >ServerErrorModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SessionExpireModal.html" >SessionExpireModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ShareIgLinkModal.html" >ShareIgLinkModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ShareLinkModal.html" >ShareLinkModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SkyBannerComponent.html" >SkyBannerComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/TagComponent.html" >TagComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/TagsListComponent.html" >TagsListComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ThumbnailComponent.html" >ThumbnailComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/UploaderComponent.html" >UploaderComponent</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-code"></span>
                                   <span>Directives</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#directives-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="directives-links"
                   >
                                       <li class="link">
                                           <a href="../directives/ClickOutsideDirective.html" >ClickOutsideDirective</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-file-code-o"></span>
                                   <span>Classes</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#classes-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="classes-links"
                   >
                                       <li class="link">
                                           <a href="../classes/Asset.html" >Asset</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/CollectionTypeHandler.html" >CollectionTypeHandler</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/CustomReuseStrategy.html" >CustomReuseStrategy</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/CustomUrlSerializer.html" >CustomUrlSerializer</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/IdleWatcherUtil.html" >IdleWatcherUtil</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/IgFormUtil.html" >IgFormUtil</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/SearchQueryUtil.html" >SearchQueryUtil</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Tag.html" >Tag</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/TagFilter.html" >TagFilter</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/User.html" >User</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../routes.html" ><span class="fa fa-code-fork"></span>Routes</a>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-long-arrow-down"></span>
                                   <span>Injectables</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#injectables-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="injectables-links"
                   >
                                       <li class="link">
                                           <a href="../injectables/AccountService.html" >AccountService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/AppConfig.html" >AppConfig</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/AssetFiltersService.html" >AssetFiltersService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/AssetSearchService.html" >AssetSearchService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/AssetService.html" >AssetService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/AuthService.html" >AuthService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/DataResolver.html" >DataResolver</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/FlagService.html" >FlagService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/GroupService.html" >GroupService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/GroupsRouteResolver.html" >GroupsRouteResolver</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/ImageGroupService.html" >ImageGroupService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/InstitutionsService.html" >InstitutionsService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/LegacyRouteResolver.html" >LegacyRouteResolver</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/LocalPCService.html" >LocalPCService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/LockerService.html" >LockerService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/LogService.html" >LogService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/MetadataService.html" >MetadataService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/PersonalCollectionService.html" >PersonalCollectionService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/ScriptService.html" >ScriptService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/TagFiltersService.html" >TagFiltersService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/TagsService.html" >TagsService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/TitleService.html" >TitleService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/ToolboxService.html" >ToolboxService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/UnauthorizedInterceptor.html" >UnauthorizedInterceptor</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-info"></span>
                                   <span>Interfaces</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#interfaces-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="interfaces-links"
                   >
                                       <li class="link">
                                           <a href="../interfaces/AssetData.html" >AssetData</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/AssetDataResponse.html" >AssetDataResponse</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/AssetDetailField.html" >AssetDetailField</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/AssetDetailsFormValue.html" >AssetDetailsFormValue</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/AssetDetailsRequestObject.html" >AssetDetailsRequestObject</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/CollectionTypeInfo.html" >CollectionTypeInfo</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/CollectionValue.html" >CollectionValue</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/DeletePersonalAssetResponse.html" >DeletePersonalAssetResponse</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/FacetGroup.html" >FacetGroup</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/FacetObject.html" >FacetObject</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/FeaturedCollection.html" >FeaturedCollection</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/FileProperty.html" >FileProperty</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/FlagServiceResponse.html" >FlagServiceResponse</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/FormattedMetadata.html" >FormattedMetadata</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/GetPersonalCollectionResponse.html" >GetPersonalCollectionResponse</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/GroupFilter.html" >GroupFilter</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/GroupList.html" >GroupList</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/GroupQuery.html" >GroupQuery</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/HierarchicalFilter.html" >HierarchicalFilter</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/IgFormValue.html" >IgFormValue</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/ImageFPXResponse.html" >ImageFPXResponse</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/ImageGroup.html" >ImageGroup</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/ImageGroupDescription.html" >ImageGroupDescription</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/ImageGroupItem.html" >ImageGroupItem</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/LocalPCAsset.html" >LocalPCAsset</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/LogMessage.html" >LogMessage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/LogResponse.html" >LogResponse</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/MediaObject.html" >MediaObject</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/MetadataField.html" >MetadataField</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/MetadataRes.html" >MetadataRes</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/MetadataResponse.html" >MetadataResponse</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/PersonalCollectionUploadAsset.html" >PersonalCollectionUploadAsset</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/PostPersonalCollectionResponse.html" >PostPersonalCollectionResponse</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/RawFile.html" >RawFile</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/RawSearchAsset.html" >RawSearchAsset</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/RawSearchResponse.html" >RawSearchResponse</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/RouteStorageObject.html" >RouteStorageObject</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/SSLoginResponse.html" >SSLoginResponse</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/Scripts.html" >Scripts</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/SearchAsset.html" >SearchAsset</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/SearchOptions.html" >SearchOptions</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/SearchParams.html" >SearchParams</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/SearchRequest.html" >SearchRequest</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/SearchResponse.html" >SearchResponse</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/SelectedFilter.html" >SelectedFilter</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/SolrFacet.html" >SolrFacet</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/Thumbnail.html" >Thumbnail</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/TourStep.html" >TourStep</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/UpdateUserResponse.html" >UpdateUserResponse</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/User.html" >User</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/UserRolesAndDepts.html" >UserRolesAndDepts</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/categoryName.html" >categoryName</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/iTagFilter.html" >iTagFilter</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/updatepcImageMetadataResponse.html" >updatepcImageMetadataResponse</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-plus"></span>
                                   <span>Pipes</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#pipes-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="pipes-links"
                   >
                                       <li class="link">
                                           <a href="../pipes/IgGroupFilterPipe.html" >IgGroupFilterPipe</a>
                                       </li>
                                       <li class="link">
                                           <a href="../pipes/KeysPipe.html" >KeysPipe</a>
                                       </li>
                                       <li class="link">
                                           <a href="../pipes/LinkifyPipe.html" >LinkifyPipe</a>
                                       </li>
                                       <li class="link">
                                           <a href="../pipes/TypeIdPipe.html" >TypeIdPipe</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../miscellaneous.html" ><span class="fa fa-cubes"></span>Miscellaneous</a>
                           </li>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../coverage.html" ><span class="fa fa-tasks"></span>Documentation coverage</a>
                           </li>
                   
                           <li class="divider"></li>
                           <li class="copyright">
                                   Documentation generated using <a href="https://compodoc.github.io/compodoc/" target="_blank">
                                               <img src="..//images/compodoc-vectorise.svg" class="img-responsive">
                                   </a>
                           </li>
                   
                       </ul>
                   
                   </nav>
               </div>
               <div class="content component">
                   <div class="content-data">


<ol class="breadcrumb">
  <li>Components</li>
  <li>AssetPage</li>
</ol>


    <ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#infos" id="infos-tab" role="tab" data-toggle="tab">Infos</a>
        </li>
        <li>
            <a href="#source" role="tab" id="source-tab" data-toggle="tab">Source</a>
        </li>
    </ul>

    <div class="tab-content">
        <div class="tab-pane fade active in" id="infos"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/asset-page/asset-page.component.ts</code>
</p>



<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover">
        <tbody>












            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>ang-asset-page</code></td>
            </tr>

            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>asset-page.component.scss</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>asset-page.component.pug</code></td>
            </tr>


        </tbody>
    </table>
</section>



    <section>
        <h3 id="constructor">Constructor</h3>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <code>constructor(_appConfig: <a href="../injectables/AppConfig.html" >AppConfig</a>, _assets: <a href="../injectables/AssetService.html" >AssetService</a>, _auth: <a href="../injectables/AuthService.html" >AuthService</a>, _search: <a href="../injectables/AssetSearchService.html" >AssetSearchService</a>, _flags: <a href="../injectables/FlagService.html" >FlagService</a>, _group: <a href="../injectables/GroupService.html" >GroupService</a>, _pcservice: <a href="../injectables/PersonalCollectionService.html" >PersonalCollectionService</a>, _localPC: <a href="../injectables/LocalPCService.html" >LocalPCService</a>, _log: <a href="../injectables/LogService.html" >LogService</a>, route: <a href="https://angular.io/docs/ts/latest/api/router/index/ActivatedRoute-interface.html" target="_blank" >ActivatedRoute</a>, _router: <a href="https://angular.io/docs/ts/latest/api/router/index/Router-class.html" target="_blank" >Router</a>, angulartics: Angulartics2, _title: <a href="../injectables/TitleService.html" >TitleService</a>, scriptService: <a href="../injectables/ScriptService.html" >ScriptService</a>, _sanitizer: <a href="https://angular.io/docs/ts/latest/api/platform-browser/index/DomSanitizer-class.html" target="_blank" >DomSanitizer</a>, _fb: <a href="https://angular.io/docs/ts/latest/api/forms/index/FormBuilder-class.html" target="_blank" >FormBuilder</a>, _locker: any, meta: Meta)</code>
                        </td>
                    </tr>
    
                </tbody>
            </table>
    </section>

    <section>
        <h3 id="methods">Methods</h3>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> handleLoadedMetadata</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>handleLoadedMetadata(asset: <a href="../classes/Asset.html" >Asset</a>, assetIndex: number)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> updateFullscreenVar</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>updateFullscreenVar(isFullscreen: boolean)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Maintains the isFullscreen variable, as set by child AssetViewers</p>
    </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> setDownloadFull</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>setDownloadFull()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Set full image download url</p>
    </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> setDownloadImage</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>setDownloadImage()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Function called if not yet agreed to download image</p>
    <ul>
    <li>sets url used by agree modal</li>
    </ul>
    </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> setDownloadView</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>setDownloadView()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Function called if not yet agreed to download image view</p>
    <ul>
    <li>sets url used by agree modal</li>
    </ul>
    </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> trackDownloadImage</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>trackDownloadImage()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> trackDownloadView</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>trackDownloadView()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> trackCollectionLink</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>trackCollectionLink(collectionName: string)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> handleKeyboardEvent</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>handleKeyboardEvent(event: KeyboardEvent)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Function called when keyboard key is pressed<br>allows user to go to previous/next asset in group or search</p>
    </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> getIapFormUrl</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>getIapFormUrl(asset: <a href="../classes/Asset.html" >Asset</a>)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Get link to IAP Form</p>
    <ul>
    <li>Generate url with Query params for requesting IAP</li>
    </ul>
    </div>
                                <div class="io-description">
                                        <b>Parameters :</b>
                                        <ul class="jsdoc-params">
                                                <li>
                                                    <div>
                                                        <b>asset</b>
                                                    </div>
                                                    <div>
                                                        <p>Asset for which the user is requesting IAP</p>
    
                                                    </div>
                                                </li>
                                        </ul>
                                </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>string</code>
    
                                </div>
                                    <div class="io-description">
                                        <p>string Request IAP form url with query params</p>
    
                                    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> getErrorFormUrl</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>getErrorFormUrl(asset: <a href="../classes/Asset.html" >Asset</a>)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Get link to Error Form</p>
    <ul>
    <li>Generate url with Query params for reporting asset error</li>
    </ul>
    </div>
                                <div class="io-description">
                                        <b>Parameters :</b>
                                        <ul class="jsdoc-params">
                                                <li>
                                                    <div>
                                                        <b>asset</b>
                                                    </div>
                                                    <div>
                                                        <p>Asset for which the user is reporting an error</p>
    
                                                    </div>
                                                </li>
                                        </ul>
                                </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>string</code>
    
                                </div>
                                    <div class="io-description">
                                        <p>string Error form url with query params</p>
    
                                    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> setCollectionLink</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>setCollectionLink(asset: <a href="../classes/Asset.html" >Asset</a>)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Sets collection id for the Collection href<br>A collection may be private, institutional, or public.<br>If both institional(2) and public(5), we set the link to the public collection id.</p>
    </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>any[]</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> handleSkipAsset</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>handleSkipAsset()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> isAssetSkipable</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>isAssetSkipable()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>boolean</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> downloadAuth</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>downloadAuth()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Find out if the user has accepted the agreement during this session</p>
    </div>
                                <div class="io-description">
                                </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>boolean</code>
    
                                </div>
                                    <div class="io-description">
                                        <p>boolean which is true if the user has accepted the agreement</p>
    
                                    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> currentAssetIndex</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>currentAssetIndex()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>number</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> addAssetToIG</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>addAssetToIG()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> showPrevAsset</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>showPrevAsset()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> showNextAsset</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>showNextAsset()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> cleanId</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>cleanId(label: string)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Clean up the field label for use as an ID (used in testing)</p>
    </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>string</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> cleanFieldValue</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>cleanFieldValue(value: string)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Some html tags are ruining things:</p>
    <ul>
    <li><wbr> word break opportunities break our link detection</li>
    </ul>
    </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>string</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> generateImgURL</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>generateImgURL(assetId: string)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> copyGeneratedImgURL</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>copyGeneratedImgURL()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Adds a link to the current asset page to the user&#39;s clipboard</p>
    </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> toggleAsset</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>toggleAsset(asset: any)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> exitPresentationMode</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>exitPresentationMode()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> backToResults</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>backToResults()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> genFilename</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>genFilename(title: string, fileExt: string)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>string</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> toggleQuizMode</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>toggleQuizMode()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> toggleQuizShuffle</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>toggleQuizShuffle()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> runDownloadView</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>runDownloadView(dlink: string)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>runDownloadView handles the DownloadView results from AssetSearch.downloadViewBlob</p>
    </div>
                                <div class="io-description">
                                        <b>Parameters :</b>
                                        <ul class="jsdoc-params">
                                                <li>
                                                    <div>
                                                        <b>dlink</b>
                                                    </div>
                                                    <div>
                                                        <p>String from generateDownloadView</p>
    
                                                    </div>
                                                </li>
                                        </ul>
                                </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>Subscription</code>
    
                                </div>
                                    <div class="io-description">
                                        
                                    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> genDownloadViewLink</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>genDownloadViewLink()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Calls downloadViewBlob in AssetSearch service to retrieve blob file,<br>and then sets generatedBlobUrl to this local reference. *</p>
    </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> goToPage</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>goToPage(newPage: number)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Load next set of thumbnails for compare mode</p>
    </div>
                                <div class="io-description">
                                        <b>Parameters :</b>
                                        <ul class="jsdoc-params">
                                                <li>
                                                    <div>
                                                        <b>newPage</b>
                                                    </div>
                                                    <div>
                                                        <p>number of desired page</p>
    
                                                    </div>
                                                </li>
                                        </ul>
                                </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                                    <div class="io-description">
                                        
                                    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> toggleAssetDrawer</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>toggleAssetDrawer(show: boolean)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>this.showAssetDrawer = !this.showAssetDrawer;<br>/**<br>Provides &quot;setter&quot; for toggling asset drawer visual</p>
    </div>
                                <div class="io-description">
                                        <b>Parameters :</b>
                                        <ul class="jsdoc-params">
                                                <li>
                                                    <div>
                                                        <b>show</b>
                                                    </div>
                                                    <div>
                                                        <p>true if you want to show the asset drawer</p>
    
                                                    </div>
                                                </li>
                                        </ul>
                                </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                                    <div class="io-description">
                                        
                                    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> deleteAsset</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>deleteAsset()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Controls display indicating asset deletion, makes http call to delete asset and navigates back to My Collection page</p>
    </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> getJstorRelatedResults</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>getJstorRelatedResults(asset: <a href="../classes/Asset.html" >Asset</a>)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Used to get related results from jstor index based on asset title/subject/work_type</p>
    </div>
                                <div class="io-description">
                                        <b>Parameters :</b>
                                        <ul class="jsdoc-params">
                                                <li>
                                                    <div>
                                                        <b>asset</b>
                                                    </div>
                                                    <div>
                                                        <p>Asset to be used for constructing jstor search query</p>
    
                                                    </div>
                                                </li>
                                        </ul>
                                </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                                    <div class="io-description">
                                        
                                    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> setToolTipData</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>setToolTipData(resultObject: any)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Sets data in the selectedJstorResult Object from the hovered-on jstor result</p>
    </div>
                                <div class="io-description">
                                        <b>Parameters :</b>
                                        <ul class="jsdoc-params">
                                                <li>
                                                    <div>
                                                        <b>resultObject</b>
                                                    </div>
                                                    <div>
                                                        <p>Hovered-on jstor result object</p>
    
                                                    </div>
                                                </li>
                                        </ul>
                                </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                                    <div class="io-description">
                                        
                                    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> editDetailsFormSubmit</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>editDetailsFormSubmit(formValue: <a href="../classes/Asset.html" >AssetDetailsFormValue</a>)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Called on edit (Asset) details form submission</p>
    </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> loadEditDetailsForm</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>loadEditDetailsForm()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Preloads the edit details form with the asset mmetadata values and show the form</p>
    </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> updateMetadataFromLocal</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>updateMetadataFromLocal(localData: <a href="../classes/Asset.html" >LocalPCAsset</a>)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> mapLocalFieldToLabel</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>mapLocalFieldToLabel(field: string)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Maps field name from LocalPCAsset object to the label from formattedMetadata on the asset</p>
    </div>
                                <div class="io-description">
                                        <b>Parameters :</b>
                                        <ul class="jsdoc-params">
                                                <li>
                                                    <div>
                                                        <b>field</b>
                                                    </div>
                                                    <div>
                                                        <p>the field from the LocalPCAsset object for which you want ot set the metadata label value</p>
    
                                                    </div>
                                                </li>
                                        </ul>
                                </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>string</code>
    
                                </div>
                                    <div class="io-description">
                                        
                                    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> closeEditDetails</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>closeEditDetails(action: string)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> closeDeletePC</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>closeDeletePC(action: string)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> logPrint</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>logPrint(asset: <a href="../classes/Asset.html" >Asset</a>)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Add Captain&#39;s log event: Print image</p>
    </div>
                                <div class="io-description">
                                        <b>Parameters :</b>
                                        <ul class="jsdoc-params">
                                                <li>
                                                    <div>
                                                        <b>asset</b>
                                                    </div>
                                                    <div>
                                                        <p>to get the asset id and institution id to be logged</p>
    
                                                    </div>
                                                </li>
                                        </ul>
                                </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                                    <div class="io-description">
                                        
                                    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> multiViewPageViaArrow</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>multiViewPageViaArrow()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> multiViewPageViaThumbnail</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>multiViewPageViaThumbnail()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
    </section>

    <section>
        <h3 id="inputs">Properties</h3>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> _appConfig</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>_appConfig:     <code><a href="../injectables/AppConfig.html" target="_self" >AppConfig</a></code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> assetGroupId</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>assetGroupId:     <code>string</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> assetIdProperty</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>assetIdProperty:     <code>string</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>artstorid</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Public</span> assetIds</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-circle"></span><code>assetIds:     <code>string[]</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> assetIndex</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>assetIndex:     <code>number</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>0</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> assetNumber</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>assetNumber:     <code>number</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>1</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> assets</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>assets:     <code><a href="../classes/Asset.html" target="_self" >Asset[]</a></code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Public</span> assetViewer</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-circle"></span><code>assetViewer:     <code>any</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> blobURL</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>blobURL:     <code>string</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> browseAssetDirection</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>browseAssetDirection:     <code>string</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> collectionName</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>collectionName:     <code>string</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> collections</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>collections:     <code>any[]</code>
    </bcode>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <div class="io-description"><p>Collection Variables</p>
    <ul>
    <li>Specific to the first asset, this.assets[0]</li>
    </ul>
    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> collectionType</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>collectionType:     <code>CollectionTypeInfo</code>
    </bcode>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <div class="io-description"><p>Controls the display of the collection type icon </p>
    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> copyURLStatusMsg</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>copyURLStatusMsg:     <code>string</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> deleteLoading</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>deleteLoading:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> document</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>document:     <code>Document</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>document</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> downloadLoading</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>downloadLoading:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> downloadName</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>downloadName:     <code>string</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> downloadUrl</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>downloadUrl:     <code>any</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> downloadViewLink</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>downloadViewLink:     <code>string</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Public</span> downloadViewReady</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-circle"></span><code>downloadViewReady:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> editDetailsForm</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>editDetailsForm:     <code><a href="https://angular.io/docs/ts/latest/api/forms/index/FormGroup-class.html" target="_blank" >FormGroup</a></code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> editDetailsFormSubmitted</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>editDetailsFormSubmitted:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> encryptedAccess</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>encryptedAccess:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> generatedBlobURL</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>generatedBlobURL:     <code>string | SafeUrl</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> generatedFullURL</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>generatedFullURL:     <code>string</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> generatedImgURL</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>generatedImgURL:     <code>string</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> isFullscreen</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>isFullscreen:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> isMSAgent</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>isMSAgent:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> isProcessing</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>isProcessing:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> jstorResults</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>jstorResults:     <code>any[]</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> loadArrayFirstAsset</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>loadArrayFirstAsset:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> loadArrayLastAsset</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>loadArrayLastAsset:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> multiviewItems</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>multiviewItems:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> navigator</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>navigator:     <code>Navigator</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>navigator</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> originPage</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>originPage:     <code>number</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>0</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> pagination</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>pagination:     <code>{ totalPages: number; size: number; page: number; }</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> prevAssetResults</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>prevAssetResults:     <code>any</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> prevRouteParams</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>prevRouteParams:     <code>any</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> prevRouteTS</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>prevRouteTS:     <code>string</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> quizMode</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>quizMode:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> quizShuffle</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>quizShuffle:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Public</span> relatedResFlag</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-circle"></span><code>relatedResFlag:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> relatedResultsQuery</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>relatedResultsQuery:     <code>string</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> restrictedAssetsCount</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>restrictedAssetsCount:     <code>number</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>0</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> selectedJstorResult</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>selectedJstorResult:     <code>any</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Public</span> showAccessDeniedModal</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-circle"></span><code>showAccessDeniedModal:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Public</span> showAddModal</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-circle"></span><code>showAddModal:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Public</span> showAgreeModal</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-circle"></span><code>showAgreeModal:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                    <tr>
                        <td class="col-md-4">
                            <div class="io-description"><p>controls whether or not the modals are visible </p>
    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> showAssetCaption</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>showAssetCaption:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>true</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> showAssetDrawer</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>showAssetDrawer:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> showCopyUrl</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>showCopyUrl:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Public</span> showCreateGroupModal</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-circle"></span><code>showCreateGroupModal:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Public</span> showDeletePCModal</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-circle"></span><code>showDeletePCModal:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> showEditDetails</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>showEditDetails:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Public</span> showExitEdit</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-circle"></span><code>showExitEdit:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Public</span> showGenerateCitation</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-circle"></span><code>showGenerateCitation:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Public</span> showLoginModal</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-circle"></span><code>showLoginModal:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> showMetadataError</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>showMetadataError:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> showMetadataPending</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>showMetadataPending:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Public</span> showServerErrorModal</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-circle"></span><code>showServerErrorModal:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> showTour</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>showTour:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Public</span> solrMetadataFlag</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-circle"></span><code>solrMetadataFlag:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> steps</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>steps:     <code>TourStep[]</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> subscriptions</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>subscriptions:     <code>Subscription[]</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> totalAssetCount</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>totalAssetCount:     <code>number</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>1</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> uiMessages</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>uiMessages:     <code>{ deleteFailure?: boolean; saveFailure?: boolean; }</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> URL</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>URL:     <code>{ new (url: string, base?: string): URL; prototype: URL; createObjectURL(object: any, options?: O...</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>URL</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Public</span> user</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-circle"></span><code>user:     <code>any</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Public</span> userSessionFresh</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-circle"></span><code>userSessionFresh:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                </tbody>
            </table>
    </section>
</div>
        <div class="tab-pane fade tab-source-code" id="source">
            <pre><code class="hljs javascript">import { Component, OnInit, OnDestroy, ViewChild, HostListener } from &#x27;@angular/core&#x27;
import { ActivatedRoute, Params, Router } from &#x27;@angular/router&#x27;
import { DomSanitizer, SafeUrl, Meta } from &#x27;@angular/platform-browser&#x27;
import { Subscription } from &#x27;rxjs&#x27;
import { map, take } from &#x27;rxjs/operators&#x27;
import { Locker, DRIVERS } from &#x27;angular-safeguard&#x27;
import { Angulartics2 } from &#x27;angulartics2&#x27;
import { ArtstorViewer } from &#x27;artstor-viewer&#x27;
import { formGroupNameProvider } from &#x27;@angular/forms/src/directives/reactive_directives/form_group_name&#x27;
import { FormGroup, FormControl, FormBuilder, Validators } from &#x27;@angular/forms&#x27;

// Project Dependencies
import { Asset } from &#x27;./asset&#x27;
import {
    AuthService,
    AssetService,
    AssetSearchService,
    GroupService,
    CollectionTypeHandler,
    LogService,
    PersonalCollectionService,
    AssetDetailsFormValue,
    CollectionTypeInfo,
    FlagService
} from &#x27;./../shared&#x27;
import { TitleService } from &#x27;../shared/title.service&#x27;
import { ScriptService } from &#x27;../shared/script.service&#x27;
import { LocalPCService, LocalPCAsset } from &#x27;../_local-pc-asset.service&#x27;
import { TourStep } from &#x27;../shared/tour/tour.service&#x27;
import { APP_CONST } from &#x27;../app.constants&#x27;
import { LockerService } from &#x27;app/_services&#x27;;
import { AppConfig } from &#x27;../app.service&#x27;

@Component({
    selector: &#x27;ang-asset-page&#x27;,
    templateUrl: &#x27;asset-page.component.pug&#x27;,
    styleUrls: [&#x27;./asset-page.component.scss&#x27;]
})
export class AssetPage implements OnInit, OnDestroy {

    @ViewChild(ArtstorViewer)
    public assetViewer: any

    public user: any
    public userSessionFresh: boolean &#x3D; false
    public assetIds: string[] &#x3D; []


    /** controls whether or not the modals are visible */
    public showAgreeModal: boolean &#x3D; false
    public showLoginModal: boolean &#x3D; false
    public showAddModal: boolean &#x3D; false
    public showCreateGroupModal: boolean &#x3D; false
    public showAccessDeniedModal: boolean &#x3D; false
    public showServerErrorModal: boolean &#x3D; false
    public showGenerateCitation: boolean &#x3D; false
    public downloadViewReady: boolean &#x3D; false
    public showExitEdit: boolean &#x3D; false
    public showDeletePCModal: boolean &#x3D; false

    // Feature Flags
    public relatedResFlag: boolean &#x3D; false
    public solrMetadataFlag: boolean &#x3D; false
    private encryptedAccess: boolean &#x3D; false
    private document &#x3D; document
    private URL &#x3D; URL
    private navigator &#x3D; navigator

    // Array to support multiple viewers on the page
    private assets: Asset[] &#x3D; []
    private assetIndex: number &#x3D; 0
    private assetGroupId: string
    private assetNumber: number &#x3D; 1
    private totalAssetCount: number &#x3D; 1
    private subscriptions: Subscription[] &#x3D; []
    private prevAssetResults: any &#x3D; { thumbnails: [] }
    private loadArrayFirstAsset: boolean &#x3D; false
    private loadArrayLastAsset: boolean &#x3D; false
    private isFullscreen: boolean &#x3D; false
    private showAssetDrawer: boolean &#x3D; false

    // MS IE/Edge for Download View
    private isMSAgent: boolean &#x3D; false

    // Keep track of the restricted assets count from previous result set, to accurately navigate through available assets
    private restrictedAssetsCount: number &#x3D; 0
    private showMetadataPending: boolean &#x3D; false
    private showMetadataError: boolean &#x3D; false

    private copyURLStatusMsg: string &#x3D; &#x27;&#x27;
    private showCopyUrl: boolean &#x3D; false
    private showEditDetails: boolean &#x3D; false
    private generatedImgURL: string &#x3D; &#x27;&#x27;
    private generatedBlobURL: SafeUrl | string &#x3D; &#x27;&#x27; // A Blob File
    private downloadViewLink: string &#x3D; &#x27;&#x27; // IIIF View Link
    private generatedFullURL: string &#x3D; &#x27;&#x27;
    // Used for agree modal input, changes based on selection
    private downloadUrl: any
    private downloadName: string
    // Used for generated view blob url
    private blobURL: string &#x3D; &#x27;&#x27;
    private prevRouteParams: any &#x3D; []

    private quizMode: boolean &#x3D; false;
    private quizShuffle: boolean &#x3D; false;
    private showAssetCaption: boolean &#x3D; true;

    private assetIdProperty: string &#x3D; &#x27;artstorid&#x27;
    /**
     *  Collection Variables
     *  - Specific to the first asset, this.assets[0]
    **/
    private collections: any[] &#x3D; []
    private collectionName: string &#x3D; &#x27;&#x27;
    /** Controls the display of the collection type icon */
    private collectionType: CollectionTypeInfo &#x3D; { name: &#x27;&#x27;, alt: &#x27;&#x27;, badgeText: &#x27;&#x27;, type: 0 }

    // To keep a track of browse direction (&#x27;prev&#x27; / &#x27;next&#x27;) while browsing through assets, to load next asset if the current asset is un-authorized
    private browseAssetDirection: string &#x3D; &#x27;&#x27;

    private pagination: {
        totalPages: number,
        size: number,
        page: number
    } &#x3D; {
            totalPages: 1,
            size: 24,
            page: 1
        };
    private originPage: number &#x3D; 0;

    private relatedResultsQuery: string &#x3D; &#x27;&#x27;
    private jstorResults: any[] &#x3D; []
    private selectedJstorResult: any &#x3D; {}

    private editDetailsForm: FormGroup
    private editDetailsFormSubmitted: boolean &#x3D; false // Set to true once the edit details form is submitted
    private isProcessing: boolean &#x3D; false // controls loading class on delete button
    private deleteLoading: boolean &#x3D; false
    private downloadLoading: boolean &#x3D; false

    private prevRouteTS: string &#x3D; &#x27;&#x27; // Used to track the (Timestamp) key for previous route params in session storage

    private uiMessages: {
        deleteFailure?: boolean,
        saveFailure?: boolean
    } &#x3D; {}

    private steps: TourStep[] &#x3D; [
        {
            step: 1,
            element: [&#x27;.btn--zoomIn&#x27;],
            popover: {
                position: &#x27;bottom&#x27;,
                title: &#x27;&lt;p&gt;1 OF 5&lt;/p&gt;&lt;b&gt;Zoom and pan&lt;/b&gt;&#x27;,
                description: &#x27;You can zoom in with this button.&#x27;,
            }
        },
        {
            step: 2,
            element: [&#x27;.btn--zoomOut&#x27;],
            popover: {
                position: &#x27;bottom&#x27;,
                title: &#x27;&lt;p&gt;2 OF 5&lt;/p&gt;&lt;b&gt;Zoom and pan&lt;/b&gt;&#x27;,
                description: &#x27;You can zoom out with this button.&#x27;,
            }
        },
        {
            step: 3,
            element: [&#x27;.btn--zoomFit&#x27;],
            popover: {
                position: &#x27;bottom&#x27;,
                title: &#x27;&lt;p&gt;3 OF 5&lt;/p&gt;&lt;b&gt;Zoom and pan&lt;/b&gt;&#x27;,
                description: &#x27;You can fit the image with this button.&#x27;,
            }
        },
        {
            step: 4,
            element: [&#x27;.btn--fullScreen&#x27;],
            popover: {
                position: &#x27;bottom&#x27;,
                title: &#x27;&lt;p&gt;4 OF 5&lt;/p&gt;&lt;b&gt;View full image and compare&lt;/b&gt;&#x27;,
                description: &#x27;If you came to this page from search or a group, you can enter fullscreen mode to see it side-by-side with others.&#x27;
            }
        },
        {
            step: 5,
            element: [&#x27;.driver-find-group-btn&#x27;],
            popover: {
                position: &#x27;bottom&#x27;,
                title: &#x27;&lt;p&gt;5 OF 5&lt;/p&gt;&lt;b&gt;Save the image for later&lt;/b&gt;&#x27;,
                description: &#x27;If you want to save the iamge for later, click this button.&#x27;,
            }
        }
    ]
    private showTour: boolean &#x3D; false

    // Flag for multiview items, true if the asset contains multiview items
    private multiviewItems: boolean &#x3D; false

    constructor(
        public _appConfig: AppConfig,
        private _assets: AssetService,
        private _auth: AuthService,
        private _search: AssetSearchService,
        private _flags: FlagService,
        private _group: GroupService,
        private _pcservice: PersonalCollectionService,
        private _localPC: LocalPCService,
        private _log: LogService,
        private route: ActivatedRoute,
        private _router: Router,
        private angulartics: Angulartics2,
        private _title: TitleService,
        private scriptService: ScriptService,
        private _sanitizer: DomSanitizer,
        _fb: FormBuilder,
        private _locker: LockerService,
        private meta: Meta,
    ) {
        this.editDetailsForm &#x3D; _fb.group({
            creator: [null],
            title: [null, Validators.required],
            work_type: [null],
            date: [null],
            location: [null],
            material: [null],
            description: [null],
            subject: [null]
        })
    }

    ngOnInit() {
        this.user &#x3D; this._auth.getUser();
        this.solrMetadataFlag &#x3D; this._flags.solrMetadata

        // sets up subscription to allResults, which is the service providing thumbnails
        this.subscriptions.push(
            this._auth.currentUser.subscribe((user) &#x3D;&gt; {
                this.user &#x3D; user
                // userSessionFresh: Do not attempt to load asset until we know user object is fresh
                if (!this.userSessionFresh &amp;&amp; this._auth.userSessionFresh) {
                    this.userSessionFresh &#x3D; true
                }
            }),
            this._assets.allResults.subscribe((allResults) &#x3D;&gt; {
                if (allResults.thumbnails) {
                    // Set asset id property to reference
                    this.assetIdProperty &#x3D; (allResults.thumbnails[0] &amp;&amp; allResults.thumbnails[0].objectId) ? &#x27;objectId&#x27; : &#x27;artstorid&#x27;

                    this.prevAssetResults.thumbnails &#x3D; allResults.thumbnails
                    this.restrictedAssetsCount &#x3D; allResults.restricted_thumbnails.length
                    if (this.loadArrayFirstAsset) {
                        this.loadArrayFirstAsset &#x3D; false;
                        if ((this.prevAssetResults) &amp;&amp; (this.prevAssetResults.thumbnails.length &gt; 0)) {
                            /***
                             * If current asset is not present in prevAssetResults page,
                             * load next asset page and evaluate current asset index
                             */
                            this.assetIndex &#x3D; this.currentAssetIndex();
                            this.assetNumber &#x3D; this._assets.currentLoadedParams.page ? this.assetIndex + 1 + ((this._assets.currentLoadedParams.page - 1) * this._assets.currentLoadedParams.size) : this.assetIndex + 1;

                            let queryParams &#x3D; {}
                            if (this.prevRouteTS) {
                                queryParams[&#x27;prevRouteTS&#x27;] &#x3D; this.prevRouteTS
                            }
                            if (this.assetGroupId) {
                                queryParams[&#x27;groupId&#x27;] &#x3D; this.assetGroupId
                            }
                            this._router.navigate([&#x27;/asset&#x27;, this.prevAssetResults.thumbnails[0][this.assetIdProperty], queryParams]);
                        }
                    }
                    else if (this.loadArrayLastAsset) {
                        this.loadArrayLastAsset &#x3D; false;
                        if ((this.prevAssetResults.thumbnails) &amp;&amp; (this.prevAssetResults.thumbnails.length &gt; 0)) {
                            /***
                             * If current asset is not present in prevAssetResults page,
                             * load previous asset page and evaluate current asset index
                             */
                            this.assetIndex &#x3D; this.currentAssetIndex();
                            this.assetNumber &#x3D; this._assets.currentLoadedParams.page ? this.assetIndex + 1 + ((this._assets.currentLoadedParams.page - 1) * this._assets.currentLoadedParams.size) : this.assetIndex + 1;

                            let queryParams &#x3D; {}
                            if (this.prevRouteTS) {
                                queryParams[&#x27;prevRouteTS&#x27;] &#x3D; this.prevRouteTS
                            }
                            if (this.assetGroupId) {
                                queryParams[&#x27;groupId&#x27;] &#x3D; this.assetGroupId
                            }
                            this._router.navigate([&#x27;/asset&#x27;, this.prevAssetResults.thumbnails[this.prevAssetResults.thumbnails.length - 1][this.assetIdProperty], queryParams]);
                        }
                    }
                    else {
                        // this.totalAssetCount &#x3D; this.prevAssetResults.count ? this.prevAssetResults.count : this.prevAssetResults.thumbnails.length;
                        this.assetIndex &#x3D; this.currentAssetIndex();
                        this.assetNumber &#x3D; this._assets.currentLoadedParams.page ? this.assetIndex + 1 + ((this._assets.currentLoadedParams.page - 1) * this._assets.currentLoadedParams.size) : this.assetIndex + 1;
                    }
                }
            })
        );

        this.subscriptions.push(
            this.route.params.subscribe((routeParams) &#x3D;&gt; {
                this.assetGroupId &#x3D; routeParams[&#x27;groupId&#x27;]
                // Find feature flags
                if (routeParams &amp;&amp; routeParams[&#x27;featureFlag&#x27;]) {
                    this._flags[routeParams[&#x27;featureFlag&#x27;]] &#x3D; true
                    this.relatedResFlag &#x3D; this._flags[&#x27;related-res-hack&#x27;] ? true : false
                    if (routeParams[&#x27;featureFlag&#x27;] &#x3D;&#x3D;&#x3D; &#x27;tour&#x27;) {
                        this.showTour &#x3D; true
                    }
                    if (routeParams[&#x27;featureFlag&#x27;] &#x3D;&#x3D;&#x3D; &#x27;solrMetadata&#x27;) {
                        this.solrMetadataFlag &#x3D; true
                    }

                } else {
                    this.relatedResFlag &#x3D; false
                }

                if (routeParams[&#x27;encryptedId&#x27;]) {
                    this.encryptedAccess &#x3D; true
                    this.assetIds[0] &#x3D; routeParams[&#x27;encryptedId&#x27;]
                } else {
                    this.assetIds[0] &#x3D; routeParams[&#x27;assetId&#x27;]

                    if (this.prevAssetResults.thumbnails.length &gt; 0) {
                        let currentAssetIndex &#x3D; this.currentAssetIndex();
                        if (currentAssetIndex &#x3D;&#x3D;&#x3D; -1){
                            if ( this.assetIndex % 24 &#x3D;&#x3D;&#x3D; 0 ) { // Browser back button pressed
                                this._assets.loadPrevAssetPage();
                            } else { // Browser next button pressed
                                this._assets.loadNextAssetPage();
                            }
                        } else {
                            this.assetIndex &#x3D; currentAssetIndex;
                            this.assetNumber &#x3D; this._assets.currentLoadedParams.page ? this.assetIndex + 1 + ((this._assets.currentLoadedParams.page - 1) * this._assets.currentLoadedParams.size) : this.assetIndex + 1;
                        }
                    }


                    // Set image share link
                    this.generateImgURL(this.assetIds[0])
                }

                // For &quot;Back to Results&quot; link and pagination, look for prevRouteTS to set prevRouteParams
                if (routeParams[&#x27;prevRouteTS&#x27;]) {
                    this.prevRouteTS &#x3D; routeParams[&#x27;prevRouteTS&#x27;]
                    // For &quot;Go Back to Results&quot;
                    // Get map of previous search params
                    let prevRoutesMap &#x3D; this._locker.sessionGet(&#x27;prevRouteParams&#x27;)

                    // Reference previous search params for the prevRouteTS
                    let prevRouteParams &#x3D; prevRoutesMap ? prevRoutesMap[this.prevRouteTS] : {}

                    // Set previous route params if available, showing &quot;Back to Results&quot; link
                    if (prevRoutesMap &amp;&amp; prevRouteParams &amp;&amp; (prevRouteParams.length &gt; 0)) {
                        this.prevRouteParams &#x3D; prevRouteParams
                    }

                    // TotalAssets - for browsing between the assets
                    let totalAssets &#x3D; this._locker.sessionGet(&#x27;totalAssets&#x27;);
                    if (totalAssets) {
                        this.totalAssetCount &#x3D; totalAssets;
                    }
                    else {
                        this.totalAssetCount &#x3D; 1
                    }
                }
                // If I go to the asset by replacing the url without opening a new tab, do not show the &quot;Go Back to Results&quot; link and pagination link
                else {
                    this.prevRouteParams &#x3D; []
                    this.totalAssetCount &#x3D; 1
                    this.assetNumber &#x3D; 1
                }
            })
        );

        // Get latest set of results with at least one asset
        // this.prevAssetResults &#x3D; this._assets.getRecentResults();

        // Subscribe to pagination values
        this.subscriptions.push(
            this._assets.pagination.subscribe((pagination) &#x3D;&gt; {
                this.pagination.page &#x3D; parseInt(pagination.page);
                this.pagination.size &#x3D; parseInt(pagination.size);
                if (this.originPage &lt; 1) {
                    this.originPage &#x3D; this.pagination.page;
                }

                if (this.totalAssetCount) {
                    this.pagination.totalPages &#x3D; Math.floor((this.totalAssetCount + this.pagination.size - 1) / this.pagination.size);
                } else {
                    this.pagination.totalPages &#x3D; parseInt(pagination.totalPages);
                }
                // Page size can&#x27;t be altered in the asset drawer, endpoint response is limited to 5000
                let maxPageCount &#x3D; Math.ceil(APP_CONST.MAX_RESULTS / this.pagination.size)
                if (this.pagination.totalPages &gt; maxPageCount) {
                    this.pagination.totalPages &#x3D; maxPageCount
                }
            })
        );

        this._assets.unAuthorizedAsset.subscribe((value) &#x3D;&gt; {
            if (value) {
                this.showAccessDeniedModal &#x3D; true
            }
        })

        // MS Browser Agent ?
        this.isMSAgent &#x3D; this.navigator.msSaveOrOpenBlob !&#x3D;&#x3D; undefined

      // Load Ethnio survey
      if (this._appConfig.config.siteID !&#x3D;&#x3D; &#x27;SAHARA&#x27;) {
        this.scriptService.loadScript(&#x27;ethnio-survey&#x27;)
      }

    } // OnInit

    ngOnDestroy() {
        this.subscriptions.forEach((sub) &#x3D;&gt; { sub.unsubscribe(); });
    }


    handleLoadedMetadata(asset: Asset, assetIndex: number) {
        // Reset modals if new data comes in
        this.showAccessDeniedModal &#x3D; false
        this.showServerErrorModal &#x3D; false

        if (asset &amp;&amp; asset[&#x27;error&#x27;]) {
            let err &#x3D; asset[&#x27;error&#x27;]
            if (err.status &#x3D;&#x3D;&#x3D; 403 || err.message &#x3D;&#x3D; &#x27;Unable to load metadata!&#x27;) {
                // here is where we make the &quot;access denied&quot; modal appear
                if (!this.encryptedAccess) {
                    this.showAccessDeniedModal &#x3D; true
                } else {
                    console.error(&#x27;Failed to load externally shared asset&#x27;, err)
                    this.showServerErrorModal &#x3D; true
                }
            } else if (err.status &#x3D;&#x3D;&#x3D; 401) {
                // Should be handled by the 401 interceptor
            } else {
                // Something must have gone quite wrong, presumably a server error
                console.error(err)
                this.showServerErrorModal &#x3D; true
            }
        } else {
            this.assets[assetIndex] &#x3D; asset
            if (assetIndex &#x3D;&#x3D; 0) {
                let tileSource: any &#x3D; asset.tileSource
                this.multiviewItems &#x3D;  Array.isArray(tileSource) ? true : false
                this._title.setTitle(asset.title)
                document.querySelector(&#x27;meta[name&#x3D;&quot;DC.type&quot;]&#x27;).setAttribute(&#x27;content&#x27;, &#x27;Artwork&#x27;)
                document.querySelector(&#x27;meta[name&#x3D;&quot;DC.title&quot;]&#x27;).setAttribute(&#x27;content&#x27;, asset.title)
                document.querySelector(&#x27;meta[name&#x3D;&quot;asset.id&quot;]&#x27;).setAttribute(&#x27;content&#x27;, asset.id)
                let currentAssetId: string &#x3D; this.assets[0].id || this.assets[0][&#x27;objectId&#x27;] // couldn&#x27;t trust the &#x27;this.assetIdProperty&#x27; variable
                // Search returns a 401 if /userinfo has not yet set cookies
                if (Object.keys(this._auth.getUser()).length !&#x3D;&#x3D; 0) {
                    // pass collectiontypeIds from asset.collections to getCollectionType function as an array of number
                    let collectiontypeIds: number[] &#x3D; []
                    asset.collections.forEach((collection) &#x3D;&gt; {
                        collectiontypeIds.push(Number(collection.type))
                    })
                    this.collectionType &#x3D; CollectionTypeHandler.getCollectionType(collectiontypeIds, asset.contributinginstitutionid)
                }

                // only log the event if the asset came from search, and therefore has an artstorid
                if (this.assets[0][&#x27;id&#x27;]) {
                    // log the event connecting the search to the asset clicked
                    this._log.log({
                        eventType: &#x27;artstor_item_view&#x27;,
                        referring_requestid: this._search.latestSearchRequestId,
                        item_id: this.assets[0][&#x27;id&#x27;]
                    })
                }

                // Split existing collection urls in the metadata so that urls can be linked separately
                if (this.assets[assetIndex].formattedMetadata[&#x27;Collection&#x27;] &amp;&amp; this.assets[assetIndex].formattedMetadata[&#x27;Collection&#x27;].join().indexOf(&#x27;&lt;br/&gt;&#x27;) &gt; -1) {
                    let collections &#x3D; this.assets[0].formattedMetadata[&#x27;Collection&#x27;]
                    let splitValues &#x3D; []
                    for (let i &#x3D; 0; i &lt; collections.length; i++){
                        splitValues &#x3D; splitValues.concat( collections[i].split(&#x27;&lt;br/&gt;&#x27;) )
                    }
                    this.assets[0].formattedMetadata[&#x27;Collection&#x27;] &#x3D; splitValues
                }



                // Load related results from jstor
                if (this.relatedResFlag) {
                    this.getJstorRelatedResults(asset)
                }

                // Update OGP meta tags
                this.meta.updateTag({ property: &quot;og:title&quot;, content: asset.title }, &#x27;property&#x3D;&quot;og:title&quot;&#x27;)
                this.meta.updateTag({ property: &quot;og:description&quot;, content: asset.formattedMetadata[&#x27;Description&#x27;] &amp;&amp; asset.formattedMetadata[&#x27;Description&#x27;][0] ? asset.formattedMetadata[&#x27;Description&#x27;][0] : &#x27;&#x27; }, &#x27;property&#x3D;&quot;og:description&quot;&#x27;)
                this.meta.updateTag({ property: &quot;og:url&quot;, content: this._assets.getShareLink(asset.id) }, &#x27;property&#x3D;&quot;og:url&quot;&#x27;)
                this.meta.updateTag({ property: &quot;og:image&quot;, content: asset.thumbnail_url ? &#x27;https:&#x27; + asset.thumbnail_url : &#x27;&#x27; }, &#x27;property&#x3D;&quot;og:image&quot;&#x27;)
            }
            // Assign collections array for this asset. Provided in metadata
            this.collections &#x3D; asset.collections
            this.updateMetadataFromLocal(this._localPC.getAsset(parseInt(this.assets[0].SSID)))
        }
        // Set download link
        this.setDownloadFull()
    }

    /**
     * Maintains the isFullscreen variable, as set by child AssetViewers
     */
    updateFullscreenVar(isFullscreen: boolean): void {
        if (!isFullscreen) {
            this.showAssetDrawer &#x3D; false
            if (this.originPage &gt; 0 &amp;&amp; this.pagination.page !&#x3D;&#x3D; this.originPage) {
                this.pagination.page &#x3D; this.originPage
                this._assets.loadAssetPage(this.pagination.page)
            }
            this.assets.splice(1)
            this.assetIds.splice(1)
        } else if (Array.isArray(this.assets[0].tileSource)){ // Log GA event for opening a multi view item in Fullscreen
            this.angulartics.eventTrack.next({ action: &#x27;multiViewItemFullscreen&#x27;, properties: { category: this._auth.getGACategory(), label: this.assets[0].id } });
        }
        else {
            // Make sure we only send one ga event when going to fullscreen mode
            if (this.isFullscreen !&#x3D;&#x3D; isFullscreen) {
                // Add Google Analytics tracking to &quot;fullscreen&quot; button
                this.angulartics.eventTrack.next({ action: &#x27;Enter Fullscreen&#x27;, properties: { label: this.assetIds[0] } })
            }
        }
        this.isFullscreen &#x3D; isFullscreen

    }

    /**
     * Set full image download url
     */
    setDownloadFull(): void {
        let url &#x3D; this.assets[0] ? this.assets[0].downloadLink : &#x27;&#x27;;
        if (this.assetGroupId) {
            // Group id needs to be passed to allow download for images accessed via groups
            // - Binder prefers lowercase service url params
            url &#x3D; url + &#x27;&amp;groupid&#x3D;&#x27; + this.assetGroupId
        }
        this.generatedFullURL &#x3D; url
    }

    /**
     * Function called if not yet agreed to download image
     * - sets url used by agree modal
     */
    setDownloadImage(): void {
        this.downloadUrl &#x3D; this.generatedFullURL
        this.showAgreeModal &#x3D; true
        this.downloadName &#x3D; &#x27;download&#x27;
    }

    /**
     * Function called if not yet agreed to download image view
     * - sets url used by agree modal
     */
    setDownloadView(): void {
        this.downloadUrl &#x3D; this.isMSAgent ? this.downloadViewLink : this.generatedBlobURL
        this.showAgreeModal &#x3D; true
        this.downloadName &#x3D; &#x27;download.jpg&#x27;
    }

    // Track download file
    trackDownloadImage(): void {
        this.angulartics.eventTrack.next({ action: &#x27;downloadAsset&#x27;, properties: { category: this._auth.getGACategory(), label: this.assets[0].id } });
    }

    // Track download view
    trackDownloadView(): void {
        this._log.log({
            eventType: &#x27;artstor_image_download_view&#x27;,
            item_id: this.assets[0].id
        })
        this.angulartics.eventTrack.next({ action: &#x27;downloadView&#x27;, properties: { category: this._auth.getGACategory(), label: this.assets[0].id } });
    }

    // Track metadata collection link click
    trackCollectionLink(collectionName: string): void {
      this.angulartics.eventTrack.next({ action: &#x27;metadata_collection_link&#x27;, properties: { category: this._auth.getGACategory(), label: collectionName } });
    }

    /**
     * Function called when keyboard key is pressed
     * allows user to go to previous/next asset in group or search
     */
    @HostListener(&#x27;document:keydown&#x27;, [&#x27;$event&#x27;])
    handleKeyboardEvent(event: KeyboardEvent) {
        let key &#x3D; event.keyCode;
        // Make sure not comparing images
        if (this.assets.length &#x3D;&#x3D;&#x3D; 1) {
            // Left -&gt; Previous
            if (key &#x3D;&#x3D;&#x3D; 37 &amp;&amp; this.assetNumber &gt; 1) {
                this.showPrevAsset();
            }
            // Right -&gt; Next
            else if (key &#x3D;&#x3D;&#x3D; 39 &amp;&amp; this.assetNumber &lt; this.totalAssetCount) {
                this.showNextAsset();
            }
        }
    }

    /**
     * Get link to IAP Form
     * - Generate url with Query params for requesting IAP
     * @param asset Asset for which the user is requesting IAP
     * @returns string Request IAP form url with query params
     */
    getIapFormUrl(asset: Asset): string {
        let baseUrl &#x3D; &#x27;http://www.artstor.org/form/iap-request-form&#x27;
        let name &#x3D; asset.title
        let collection &#x3D; asset.formattedMetadata[&#x27;Collection&#x27;] &amp;&amp; asset.formattedMetadata[&#x27;Collection&#x27;][0] ? asset.formattedMetadata[&#x27;Collection&#x27;][0] : &#x27;&#x27;
        let id &#x3D; asset.id
        let email &#x3D; this.user.username
        return baseUrl + &#x27;?name&#x3D;&#x27; + name + &#x27;&amp;collectionName&#x3D;&#x27; + collection + &#x27;&amp;id&#x3D;&#x27; + id + &#x27;&amp;email&#x3D;&#x27; + email
    }

    /**
     * Get link to Error Form
     * - Generate url with Query params for reporting asset error
     * @param asset Asset for which the user is reporting an error
     * @returns string Error form url with query params
     */
    getErrorFormUrl(asset: Asset): string {
        let baseUrl &#x3D; &#x27;http://www.artstor.org/form/report-error&#x27;
        let collection &#x3D; asset.formattedMetadata[&#x27;Collection&#x27;] &amp;&amp; asset.formattedMetadata[&#x27;Collection&#x27;][0] ? asset.formattedMetadata[&#x27;Collection&#x27;][0] : &#x27;&#x27;
        let id &#x3D; asset.id
        let email &#x3D; this.user.username
        let title &#x3D; asset.title
        let creator &#x3D; asset.creator
        let repo &#x3D; (asset.formattedMetadata[&#x27;Repository&#x27;] &amp;&amp; asset.formattedMetadata[&#x27;Repository&#x27;][0]) || &#x27;&#x27;
        let fileName &#x3D; asset.fileName
        let ssid &#x3D; asset.SSID
        return baseUrl + &#x27;?collectionName&#x3D;&#x27; + collection + &#x27;&amp;id&#x3D;&#x27; + id + &#x27;&amp;email&#x3D;&#x27; + email + &#x27;&amp;title&#x3D;&#x27; + title + &#x27;&amp;creator&#x3D;&#x27; + creator + &#x27;&amp;fileName&#x3D;&#x27; + fileName + &#x27;&amp;ssid&#x3D;&#x27; + ssid + &#x27;&amp;repository&#x3D;&#x27; + repo
    }

    /**
     * Sets collection id for the Collection href
     * A collection may be private, institutional, or public.
     * If both institional(2) and public(5), we set the link to the public collection id.
     */
    setCollectionLink(asset: Asset): any[] {
        let link &#x3D; []

        // 103 Collection Id routes to /category/&lt;categoryId&gt;, some of the collections have collectionId of NaN, check the id in the collections array instead
        if (String(asset.collectionId) &#x3D;&#x3D;&#x3D; &#x27;103&#x27; || String(asset.collections[0].id) &#x3D;&#x3D;&#x3D; &#x27;103&#x27;) {
            return [&#x27;/category&#x27;, String(asset.categoryId)]
        }
        else {
            for (let col of this.collections) {
                // Private/Personal Collection
                if (col.type &#x3D;&#x3D;&#x3D; &#x27;6&#x27;) {
                    return [&#x27;/pcollection&#x27;, col.id]
                }
                // Public Collection
                else if (col.type &#x3D;&#x3D;&#x3D; &#x27;5&#x27;) {
                    asset.publicDownload &#x3D; true
                    return [&#x27;/collection&#x27;, col.id]
                }
                else {
                    link &#x3D; [&#x27;/collection&#x27;, col.id]
                }
            }
        }
        return link
    }

    private handleSkipAsset(): void {
        if (this.browseAssetDirection &#x3D;&#x3D;&#x3D; &#x27;prev&#x27;) {
            this.showPrevAsset()
        }
        else if (this.browseAssetDirection &#x3D;&#x3D;&#x3D; &#x27;next&#x27;) {
            this.showNextAsset()
        }

        // Close the modal after handling skip asset
        this.showAccessDeniedModal &#x3D; false
    }

    // Determines if the asset can be skipped to the prev / next asset in the array, if the current asset is unauthorized
    private isAssetSkipable(): boolean {
        let skipable: boolean &#x3D; false
        if ((this.browseAssetDirection &#x3D;&#x3D;&#x3D; &#x27;prev&#x27;) &amp;&amp; (this.assetNumber &gt; 1)) {
            skipable &#x3D; true
        }
        else if ((this.browseAssetDirection &#x3D;&#x3D;&#x3D; &#x27;next&#x27;) &amp;&amp; (this.assetNumber &lt; this.totalAssetCount)) {
            skipable &#x3D; true
        }
        return skipable
    }

    /**
     * Find out if the user has accepted the agreement during this session
     * @returns boolean which is true if the user has accepted the agreement
     */
    private downloadAuth(): boolean {
        return this._auth.downloadAuthorized();
    }

    // Calculate the index of current asset from the previous assets result set
    private currentAssetIndex(): number {
        let assetIndex: number &#x3D; 1
        let assetFound &#x3D; false
        if (this.assetIds[0]) {
            for (let i &#x3D; 0; i &lt; this.prevAssetResults.thumbnails.length; i++) {
                // Select the thumbnail if its arstor_id is in assetIds
                if (this.assetIds.indexOf(this.prevAssetResults.thumbnails[i][this.assetIdProperty]) &gt; -1) {
                    this.prevAssetResults.thumbnails[i].selected &#x3D; true
                    assetIndex &#x3D; i
                    assetFound &#x3D; true
                }
                else {
                    this.prevAssetResults.thumbnails[i].selected &#x3D; false
                }
            }
        }
        assetIndex &#x3D; assetFound ? assetIndex : -1
        return assetIndex
    }

    private addAssetToIG(): void {

        if (this.user &amp;&amp; this.user.isLoggedIn) {
            // Check if the logged-in user has private image groups
            this._group.getAll(&#x27;created&#x27;).pipe(
              take(1),
              map(res &#x3D;&gt; {
                if (res.groups &amp;&amp; (res.groups.length &gt; 0)) {
                    this.showAddModal &#x3D; true;
                } else {
                    this.showCreateGroupModal &#x3D; true;
                }
              },
              (err) &#x3D;&gt; { console.error(err); }
            )).subscribe()
        } else {
          this.showLoginModal &#x3D; true;
        }
    }

    private showPrevAsset(): void {
        if (this.quizShuffle || (this.assetNumber &gt; 1)) {
            // Update browse direction
            this.browseAssetDirection &#x3D; &#x27;prev&#x27;

            if (this.quizShuffle || (this.assetIndex &gt; 0)) {
                let prevAssetIndex &#x3D; this.quizShuffle ? Math.floor(Math.random() * this.prevAssetResults.thumbnails.length) + 0 : this.assetIndex - 1; // Assign random thumbnail index if quiz shuffle is true
                let queryParams &#x3D; {}
                if (this.prevRouteTS) {
                    queryParams[&#x27;prevRouteTS&#x27;] &#x3D; this.prevRouteTS
                }
                if (this.assetGroupId) {
                    queryParams[&#x27;groupId&#x27;] &#x3D; this.assetGroupId
                }

                this._router.navigate([&#x27;/asset&#x27;, this.prevAssetResults.thumbnails[prevAssetIndex][this.assetIdProperty], queryParams]);
            }
            else if (this.assetIndex &#x3D;&#x3D; 0) {
                this.loadArrayLastAsset &#x3D; true;
                this._assets.loadPrevAssetPage();
            }
        }
    }

    private showNextAsset(): void {
        if (this.quizShuffle || (this.assetNumber &lt; this.totalAssetCount)) {
            // Update browse direction
            this.browseAssetDirection &#x3D; &#x27;next&#x27;

            if ((this.prevAssetResults.thumbnails) &amp;&amp; ( this.quizShuffle || ( this.assetIndex &lt; (this.prevAssetResults.thumbnails.length - 1)) )) {
                let nextAssetIndex &#x3D; this.quizShuffle ? Math.floor(Math.random() * this.prevAssetResults.thumbnails.length) + 0 : this.assetIndex + 1; // Assign random thumbnail index if quiz shuffle is true
                let queryParams &#x3D; {}
                if (this.prevRouteTS) {
                    queryParams[&#x27;prevRouteTS&#x27;] &#x3D; this.prevRouteTS
                }
                if (this.assetGroupId) {
                    queryParams[&#x27;groupId&#x27;] &#x3D; this.assetGroupId
                }

                this._router.navigate([&#x27;/asset&#x27;, this.prevAssetResults.thumbnails[nextAssetIndex][this.assetIdProperty], queryParams]);
            }
            else if ((this.prevAssetResults.thumbnails) &amp;&amp; (this.assetIndex &#x3D;&#x3D; (this.prevAssetResults.thumbnails.length - 1))) {
                this.loadArrayFirstAsset &#x3D; true;
                this._assets.loadNextAssetPage();
            }
        }
    }

    /**
    * Clean up the field label for use as an ID (used in testing)
    */
    private cleanId(label: string): string {
        if (typeof (label) &#x3D;&#x3D; &#x27;string&#x27;) {
            return label.toLowerCase().replace(/\s/g, &#x27;&#x27;)
        } else {
            return &#x27;&#x27;
        }
    }

    /**
     * Some html tags are ruining things:
     * - &lt;wbr&gt; word break opportunities break our link detection
     */
    private cleanFieldValue(value: string): string {
        if (typeof (value) &#x3D;&#x3D; &#x27;string&#x27;) {

            return value.replace(/\&lt;wbr\&gt;/g, &#x27;&#x27;).replace(/\&lt;wbr\/\&gt;/g, &#x27;&#x27;)
        } else {
            return &#x27;&#x27;
        }
    }

    private generateImgURL(assetId: string): void {
        this.generatedImgURL &#x3D; this._assets.getShareLink(assetId);
    }

    /**
     * Adds a link to the current asset page to the user&#x27;s clipboard
     */
    private copyGeneratedImgURL(): void {
        let statusMsg &#x3D; &#x27;&#x27;;
        let input: any &#x3D; document.getElementById(&#x27;generatedImgURL&#x27;);
        let iOSuser: boolean &#x3D; false;

        this.showCopyUrl &#x3D; true;
        input.focus()
        input.select()

        // Determine if on iOS (no copy functionality)
        if (/iPhone|iPad|iPod/i.test(navigator.userAgent)) {
            iOSuser &#x3D; true
        }

        setTimeout(() &#x3D;&gt; {
            input.select();
            if (document.queryCommandSupported(&#x27;copy&#x27;) &amp;&amp; !iOSuser) {
                document.execCommand(&#x27;copy&#x27;, false, null)
                statusMsg &#x3D; &#x27;Image URL successfully copied to the clipboard!&#x27;;
            }
            else {
                statusMsg &#x3D; &#x27;Select the above link, and copy to share!&#x27;;
            }
            this.copyURLStatusMsg &#x3D; statusMsg;
        }, 50);
    }

    // Add or remove assets from Assets array for comparison in full screen
    private toggleAsset(asset: any): void {
        // ADD or REMOVE to assets and assetIds arrays
        let add &#x3D; true;
        // Groups/items services use &quot;objectid&quot;
        // Solr search uses &quot;artstorid&quot;  but also has an &quot;id&quot; we should ignore!
        if (!asset.id || asset[&#x27;artstorid&#x27;]) {
            asset.id &#x3D; asset[&#x27;artstorid&#x27;] || asset[&#x27;objectId&#x27;]
        }
        // remove from assetIds
        let assetIdIndex &#x3D; this.assetIds.indexOf(asset.id)
        if (assetIdIndex &gt; -1) {
            this.assetIds.splice(assetIdIndex, 1)
            add &#x3D; false
        }
        // remove from assets
        this.assets.forEach((viewAsset, i) &#x3D;&gt; {
            if ([viewAsset.id, viewAsset[&#x27;artstorid&#x27;], viewAsset[&#x27;objectId&#x27;]].indexOf(asset.id) &gt; -1) {
                asset.selected &#x3D; false;
                this.assets.splice(i, 1);
                add &#x3D; false;
                // Set &#x27;selected&#x27; to &#x27;false&#x27; for the asset in asset drawer
                this.prevAssetResults.thumbnails.forEach((thumbnail, i) &#x3D;&gt; {
                    if (asset.id &#x3D;&#x3D; thumbnail.id) {
                        thumbnail.selected &#x3D; false;
                    }
                });

                // Once the primary asset (assets[0]) is removed change the URL (navigate) to the new primary asset
                if (i &#x3D;&#x3D;&#x3D; 0) {
                    this._router.navigate([&#x27;/asset&#x27;, this.assetIds[0]]);
                }

            }
        })
        if (this.assets.length &gt;&#x3D; 10) {
            add &#x3D; false;
            // TO-DO: Show Error message
        }
        if (add &#x3D;&#x3D; true) {
            asset.selected &#x3D; true;
            this.assetIds.push(asset[this.assetIdProperty]);

            // Add GA tracking to select image to compare action
            this.angulartics.eventTrack.next({ action: &#x27;Compare image&#x27;, properties: { label: this.assetIds.length } })
        }

        // log compared assets
        this._log.log({
            eventType: &#x27;artstor_image_compare&#x27;,
            item_id: asset.id,
            additional_fields: {
                compared_assets: this.assetIds,
                action: add ? &#x27;add&#x27; : &#x27;remove&#x27;
            }
        })
    }

    // Exit Presentation / Fullscreen mode and reset assets comparison array
    private exitPresentationMode(): void {

        for (let i &#x3D; 0; i &lt; this.prevAssetResults.thumbnails.length; i++) {
            this.prevAssetResults.thumbnails[i].selected &#x3D; false;
        }

        this.quizMode &#x3D; false;
        this.quizShuffle &#x3D; false;
        this.showAssetCaption &#x3D; true;

        this.assetViewer.togglePresentationMode();
        this.showAssetDrawer &#x3D; false;
    }

    private backToResults(): void {
        if (this.prevRouteParams.length &#x3D;&#x3D; 1) {
            this._router.navigate([&#x27;/&#x27; + this.prevRouteParams[0].path, this.prevRouteParams[0].parameters]);
            this.prevRouteParams &#x3D; [];
        }
        else if (this.prevRouteParams.length &#x3D;&#x3D; 2) {
            this._router.navigate([&#x27;/&#x27; + this.prevRouteParams[0].path, this.prevRouteParams[1].path, this.prevRouteParams[1].parameters]);
            this.prevRouteParams &#x3D; [];
        }
        else if (this.prevRouteParams.length &#x3D;&#x3D; 3) {
            this._router.navigate([&#x27;/&#x27; + this.prevRouteParams[0].path, this.prevRouteParams[1].path, this.prevRouteParams[2].path]);
            this.prevRouteParams &#x3D; [];
        }

    }

    private genFilename(title: string, fileExt: string): string {
        // Returning a filename with a &quot;.&quot; is read as having a file extension
        return (title &amp;&amp; fileExt) ? title.replace(/\./g, &#x27;-&#x27;) + &#x27;.&#x27; + fileExt : &#x27;&#x27;
    }

    private toggleQuizMode(): void {
        if (this.quizMode) { // Leave Quiz mode
            this.quizMode &#x3D; false;
            this.showAssetCaption &#x3D; true;
        }
        else { // Enter Quiz mode
            this._log.log({
                eventType: &#x27;artstor_quiz_toggle&#x27;
            })
            this.quizMode &#x3D; true;
            this.showAssetCaption &#x3D; false;
            this.toggleAssetDrawer(false);

            this.assets.splice(1);
            this.assetIds.splice(1);
            for (let i &#x3D; 0; i &lt; this.prevAssetResults.thumbnails.length; i++) {
                this.prevAssetResults.thumbnails[i].selected &#x3D; false;
            }
        }
    }

    private toggleQuizShuffle(): void {
        if (this.quizShuffle) {
            this.quizShuffle &#x3D; false;
        }
        else {
            this.quizShuffle &#x3D; true;
            this.showNextAsset();
        }
    }

    /**
     * runDownloadView handles the DownloadView results from AssetSearch.downloadViewBlob
     * @param dlink String from generateDownloadView
     */
    private runDownloadView(dlink: string): Subscription {
      // Download generated jpg as local blob file
      return this._search.downloadViewBlob(dlink).pipe(
        take(1),
        map(blob &#x3D;&gt; {
          if (blob.size &gt; 0) {
            this.blobURL &#x3D; this.URL.createObjectURL(blob)
            this.generatedBlobURL &#x3D; this._sanitizer.bypassSecurityTrustUrl(this.blobURL)
            this.downloadViewReady &#x3D; true
            this.downloadLoading &#x3D; false
          }},
          (err) &#x3D;&gt; {
            this.downloadLoading &#x3D; false
            this.downloadViewReady &#x3D; false
            this.showServerErrorModal &#x3D; true
          }
        )).subscribe()
    }

    /** Calls downloadViewBlob in AssetSearch service to retrieve blob file,
        and then sets generatedBlobUrl to this local reference. **/

    private genDownloadViewLink() {

        // Do nothing if this is not an image
        if (!this.assets[0].typeName || !this.assets[0].typeName.length) {
            return
        }

        let asset &#x3D; this.assets[0]
        this.downloadLoading &#x3D; true // sets to false on success of runDownloadView

        // Revoke the browser reference to a previous blob URL, needs 100ms pause
        if (this.blobURL.length) {
            setTimeout(() &#x3D;&gt; {
              this.URL.revokeObjectURL(this.blobURL)
            }, 100);
        }

        if (asset.typeName &#x3D;&#x3D;&#x3D; &#x27;image&#x27; &amp;&amp; asset.viewportDimensions.contentSize) {
            // Full source image size (max output possible)
            let fullWidth &#x3D; Math.floor(asset.viewportDimensions.contentSize.x)
            let fullY &#x3D; Math.floor(asset.viewportDimensions.contentSize.y)
            // Zoom is a factor of the image&#x27;s full width
            let zoom &#x3D; Math.floor(asset.viewportDimensions.zoom)
            // Viewport dimensions (size of cropped image)
            let viewX &#x3D; Math.floor(asset.viewportDimensions.containerSize.x)
            let viewY &#x3D; Math.floor(asset.viewportDimensions.containerSize.y)
            // Dimensions of the source size of the cropped image
            let zoomX &#x3D; Math.floor(fullWidth / zoom)
            let zoomY &#x3D; Math.floor(zoomX * (viewY / viewX))
            // Make sure zoom area is not larger than source, or else error
            if (zoomX &gt; fullWidth) {
                zoomX &#x3D; fullWidth
            }
            if (zoomY &gt; fullY) {
                zoomY &#x3D; fullY
            }
            // Positioning of the viewport&#x27;s crop
            let xOffset &#x3D; Math.floor((asset.viewportDimensions.center.x * fullWidth) - (zoomX / 2))
            let yOffset &#x3D; Math.floor((asset.viewportDimensions.center.y * fullWidth) - (zoomY / 2))

            // Generate the view url from tilemap service
            this.downloadViewLink &#x3D; asset.tileSource.replace(&#x27;info.json&#x27;, &#x27;&#x27;) + xOffset + &#x27;,&#x27; + yOffset + &#x27;,&#x27; + zoomX + &#x27;,&#x27; + zoomY + &#x27;/&#x27; + viewX + &#x27;,&#x27; + viewY + &#x27;/0/native.jpg&#x27;

            // Disable download view link button until file is ready
            this.downloadViewReady &#x3D; false

            // Call runDownloadView after 1 sec, downloads local view image blob file to browser
            setTimeout(() &#x3D;&gt; {
              this.runDownloadView(this.downloadViewLink)
            }, 1000);
        }
        else {
            this.downloadLoading &#x3D; false
        }
    }

    /**
     * Load next set of thumbnails for compare mode
     * @param newPage number of desired page
     */
    private goToPage(newPage: number) {
        // The requested page should be within the limits (i.e 1 to totalPages)
        if ((newPage &gt;&#x3D; 1)) {
            this._assets.paginated &#x3D; true;
            this.pagination.page &#x3D; newPage;
            this._assets.loadAssetPage(this.pagination.page);
        }
    }

    /** this.showAssetDrawer &#x3D; !this.showAssetDrawer;
    /**
     * Provides &quot;setter&quot; for toggling asset drawer visual
     * @param show true if you want to show the asset drawer
     */
    private toggleAssetDrawer(show: boolean) {
        this.showAssetDrawer &#x3D; show
        if (Array.isArray(show &amp;&amp; this.assets[0].tileSource)){ // Log GA event for comparing a multi view item in Fullscreen mode
            this.angulartics.eventTrack.next({ action: &#x27;multiViewItemCompare&#x27;, properties: { category: this._auth.getGACategory(), label: this.assets[0].id } });
        }
    }

    /**
     * Controls display indicating asset deletion, makes http call to delete asset and navigates back to My Collection page
     */
    private deleteAsset(): void {
        this.uiMessages &#x3D; {}

        this.deleteLoading &#x3D; true
        this._pcservice.deletePersonalAssets([this.assets[0].SSID]).pipe(
          take(1),
          map(res &#x3D;&gt; {
              this.deleteLoading &#x3D; false
              this._router.navigate([&#x27;/pcollection&#x27;, &#x27;37436&#x27;], { queryParams: { deleteSuccess: this.assets[0].title } })
          }, (err) &#x3D;&gt; {
              this.deleteLoading &#x3D; false
              this.uiMessages.deleteFailure &#x3D; true
          }
        )).subscribe()
    }

    /**
     * Used to get related results from jstor index based on asset title/subject/work_type
     * @param asset Asset to be used for constructing jstor search query
     */
    private getJstorRelatedResults(asset: Asset): void {
        let term &#x3D; &#x27;&#x27;
        if (asset.formattedMetadata &amp;&amp; asset.formattedMetadata[&#x27;Title&#x27;]) {
            term +&#x3D; asset.formattedMetadata[&#x27;Title&#x27;][0]
        }

        if (asset.formattedMetadata &amp;&amp; asset.formattedMetadata[&#x27;Subject&#x27;]) {
            term +&#x3D; &#x27; AND &#x27; + asset.formattedMetadata[&#x27;Subject&#x27;]
        } else if (asset.formattedMetadata &amp;&amp; asset.formattedMetadata[&#x27;Work Type&#x27;]) {
            term +&#x3D; &#x27; AND &#x27; + asset.formattedMetadata[&#x27;Work Type&#x27;]
        }

        this.relatedResultsQuery &#x3D; term

        this._search.searchJstor(term)
            .subscribe(
                res &#x3D;&gt; {
                    if (res.results) {
                        let resultArray &#x3D; res.results
                        resultArray &#x3D; resultArray.length &gt; 4 ? resultArray.slice(0, 4) : resultArray
                        for (let resultObj of resultArray) {
                            let label &#x3D; &#x27;&#x27;
                            if (resultObj.title &amp;&amp; resultObj.title[0]) {
                                label &#x3D; resultObj.title[0]
                            }
                            if (resultObj.citation_line) {
                                label +&#x3D; label ? &#x27;, &#x27; : &#x27;&#x27;
                                label +&#x3D; resultObj.citation_line
                            }
                            resultObj.label &#x3D; label
                        }
                        this.jstorResults &#x3D; resultArray
                    }
                }
            )
    }

    /**
     * Sets data in the selectedJstorResult Object from the hovered-on jstor result
     * @param resultObject Hovered-on jstor result object
     */
    private setToolTipData(resultObject: any): void {
        let toolTipData: any &#x3D; {}
        toolTipData.title &#x3D; resultObject.title &amp;&amp; resultObject.title[0] ? resultObject.title[0] : &#x27;&#x27;
        toolTipData.authors &#x3D; resultObject.author
        toolTipData.publishers &#x3D; resultObject.publisher
        toolTipData.doi &#x3D; resultObject.doi

        this.selectedJstorResult &#x3D; toolTipData
    }

    /**
     * Called on edit (Asset) details form submission
     */
    private editDetailsFormSubmit(formValue: AssetDetailsFormValue): void {
        this.uiMessages &#x3D; {}
        this.editDetailsFormSubmitted &#x3D; true
        if (!this.editDetailsForm.valid) {
            return
        }
        this.isProcessing &#x3D; true

        // update asset metadata
        this._pcservice.updatepcImageMetadata(formValue, this.assets[0][&#x27;SSID&#x27;])
            .subscribe(
                data &#x3D;&gt; {
                    if (data.success) {
                        this.isProcessing &#x3D; false

                        this._localPC.setAsset({
                            ssid: parseInt(this.assets[0].SSID),
                            asset_metadata: formValue
                        })

                        this.closeEditDetails(&#x27;Continue&#x27;)

                        // Reload asset metadata
                        this._router.navigate([&#x27;/asset&#x27;, &#x27;&#x27;])
                        setTimeout(() &#x3D;&gt; {
                            // Pass the prevRouteTS param to make sure we load prevRouteParams
                            this._router.navigate([ &#x27;/asset&#x27;, this.assets[0].id, this.prevRouteTS ? { prevRouteTS: this.prevRouteTS } : {} ])
                        }, 250)
                    }
                },
                error &#x3D;&gt; {
                    console.error(error)
                    this.isProcessing &#x3D; false
                    // Show user error message
                    this.uiMessages.saveFailure &#x3D; true
                }
            );
    }

    /**
     * Preloads the edit details form with the asset mmetadata values and show the form
     */
    private loadEditDetailsForm(): void {
        this.uiMessages &#x3D; {}
        // see if we have a local copy of the data
        let localData: LocalPCAsset &#x3D; this._localPC.getAsset(parseInt(this.assets[0].SSID))
        // if we have a copy of the metadata locally, use that
        if (localData) {
            for (let key in localData.asset_metadata) {
                this.editDetailsForm.controls[key].setValue(localData.asset_metadata[key])
            }
            this.showEditDetails &#x3D; true
            return // cancel out of the rest of the function
        }

        // preload form values
        let metaData &#x3D; this.assets[0].formattedMetadata
        for (let label in metaData) {
            let value &#x3D; metaData[label][0]
            switch (label) {
                case &#x27;Creator&#x27;: {
                    this.editDetailsForm.controls[&#x27;creator&#x27;].setValue(value)
                    break
                }
                case &#x27;Title&#x27;: {
                    this.editDetailsForm.controls[&#x27;title&#x27;].setValue(value)
                    break
                }
                case &#x27;Work Type&#x27;: {
                    this.editDetailsForm.controls[&#x27;work_type&#x27;].setValue(value)
                    break
                }
                case &#x27;Date&#x27;: {
                    this.editDetailsForm.controls[&#x27;date&#x27;].setValue(value)
                    break
                }
                case &#x27;Location&#x27;: {
                    this.editDetailsForm.controls[&#x27;location&#x27;].setValue(value)
                    break
                }
                case &#x27;Material&#x27;: {
                    this.editDetailsForm.controls[&#x27;material&#x27;].setValue(value)
                    break
                }
                case &#x27;Description&#x27;: {
                    this.editDetailsForm.controls[&#x27;description&#x27;].setValue(value)
                    break
                }
                case &#x27;Subject&#x27;: {
                    this.editDetailsForm.controls[&#x27;subject&#x27;].setValue(value)
                    break
                }
                default: {
                    break
                }
            }
        }

        // Show edit details form
        this.showEditDetails &#x3D; true
    }

    private updateMetadataFromLocal(localData: LocalPCAsset): void {
        if (!localData) { return } // if we don&#x27;t have metadata for that asset, we won&#x27;t run any of the update code
        // Track whether or not server has propagated changes yet
        this.showMetadataPending &#x3D; false
        for (let key in localData.asset_metadata) {
            let metadataLabel: string &#x3D; this.mapLocalFieldToLabel(key)
            let fieldValue: string &#x3D; localData.asset_metadata[key]
            // all objects in formattedMetadata are arrays, but these should all be length 0
            if (fieldValue) {
                if (this.assets[0].formattedMetadata[metadataLabel] &amp;&amp; this.assets[0].formattedMetadata[metadataLabel].indexOf(fieldValue) &gt; -1) {
                    // No change
                } else {
                   this.assets[0].formattedMetadata[metadataLabel] &#x3D; [fieldValue]
                   this.showMetadataPending &#x3D; true
                }
            }
        }
    }

    /**
     * Maps field name from LocalPCAsset object to the label from formattedMetadata on the asset
     * @param field the field from the LocalPCAsset object for which you want ot set the metadata label value
     */
    private mapLocalFieldToLabel(field: string): string {
        let fieldLabelMap &#x3D; {
            &#x27;creator&#x27;: &#x27;Creator&#x27;,
            &#x27;title&#x27;: &#x27;Title&#x27;,
            &#x27;work_type&#x27;: &#x27;Work Type&#x27;,
            &#x27;date&#x27;: &#x27;Date&#x27;,
            &#x27;location&#x27;: &#x27;Location&#x27;,
            &#x27;material&#x27;: &#x27;Material&#x27;,
            &#x27;description&#x27;: &#x27;Description&#x27;,
            &#x27;subject&#x27;: &#x27;Subject&#x27;
        }
        return fieldLabelMap[field]
    }

    private closeEditDetails(action: string): void {
        this.uiMessages &#x3D; {}
        // Hide and reset the edit details form
        if (action &amp;&amp; action &#x3D;&#x3D;&#x3D; &#x27;Continue&#x27;) {
            this.showEditDetails &#x3D; false
            this.editDetailsForm.reset()
        }
        this.showExitEdit &#x3D; false
    }

    private closeDeletePC(action: string): void {
        if (action &amp;&amp; action &#x3D;&#x3D; &#x27;Confirm&#x27;) {
            this.deleteAsset()
        } else {
            this.showDeletePCModal &#x3D; false
        }
    }

    /**
     * Add Captain&#x27;s log event: Print image
     * @param asset to get the asset id and institution id to be logged
     */
    private logPrint(asset: Asset): void {
        this._log.log({
            eventType: &#x27;artstor_print_image&#x27;,
            item_id: asset.id,
            additional_fields: {
                institutionID: asset.contributinginstitutionid
            }
        })
    }

    private multiViewPageViaArrow(): void{
        if (this.isFullscreen){
            this.angulartics.eventTrack.next({ action: &#x27;multiViewFullscreenPageViaArrow&#x27;, properties: { category: this._auth.getGACategory(), label: this.assets[0].id } })
        } else{
            this.angulartics.eventTrack.next({ action: &#x27;multiViewPageViaArrow&#x27;, properties: { category: this._auth.getGACategory(), label: this.assets[0].id } })
        }
    }

    private multiViewPageViaThumbnail(): void{
        if (this.isFullscreen){
            this.angulartics.eventTrack.next({ action: &#x27;multiViewFullscreenPageViaThumbnail&#x27;, properties: { category: this._auth.getGACategory(), label: this.assets[0].id } })
        } else {
            this.angulartics.eventTrack.next({ action: &#x27;multiViewPageViaThumbnail&#x27;, properties: { category: this._auth.getGACategory(), label: this.assets[0].id } })
        }
    }

}
</code></pre>
        </div>
    </div>










                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
           </div>
       </div>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/search/search.js"></script>
       <script src="../js/search/lunr.min.js"></script>
       <script src="../js/search/search-lunr.js"></script>

       <script src="../js/menu.js"></script>
       <script src="../js/libs/highlight.pack.js"></script>
       <script src="../js/libs/highlightjs-line-numbers.min.js"></script>
       <script src="../js/search/search_index.js"></script>
       <script>
            document.addEventListener('DOMContentLoaded', function() {
                hljs.initHighlightingOnLoad();
                hljs.initLineNumbersOnLoad();
            });
       </script>

    </body>
</html>
