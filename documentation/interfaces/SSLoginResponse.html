<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>avatar documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	    <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">avatar documentation</a>
            <button type="button" class="btn btn-default btn-menu fa fa-bars" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
            <div id="book-search-input" role="search">
                <input type="text" placeholder="Type to search">
            </div>
            <nav>
            
                <ul class="list">
            
                    <li class="title">
                        <a href="../">avatar documentation</a>
                    </li>
            
                    <li class="divider"></li>
            
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../"><span class="fa fa-home"></span>Getting started</a>
                        <ul class="links">
                                <li class="link">
                                    <a href="../" ><span class="fa fa-file-text-o"></span>README</a>
                                </li>
                                <li class="link">
                                    <a 
                                        
                                         href="../overview.html" 
                                         href="../overview.html" 
                                        >
                                        <span class="fa fa-th"></span>Overview
                                    </a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="./modules.html" >
                            <span class="fa fa-archive"></span>
                            <span>Modules</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-modules-links"
                            ></span>
                        </a>
                        <ul class="links collapse in"
                                id="xs-modules-links"
                            >
                                <li class="link">
                                    <a href="../modules/AppModule.html" >AppModule</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-cogs"></span>
                            <span>Components</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-components-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-components-links"
                            >
                                <li class="link">
                                    <a href="../components/AccessDeniedModal.html" >AccessDeniedModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/AccountPage.html" >AccountPage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/AddToGroupModal.html" >AddToGroupModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/AgreeModalComponent.html" >AgreeModalComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/App.html" >App</a>
                                </li>
                                <li class="link">
                                    <a href="../components/AssetFilters.html" >AssetFilters</a>
                                </li>
                                <li class="link">
                                    <a href="../components/AssetGrid.html" >AssetGrid</a>
                                </li>
                                <li class="link">
                                    <a href="../components/AssetPPPage.html" >AssetPPPage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/AssetPage.html" >AssetPage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/AssociatedPage.html" >AssociatedPage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/BrowseCommonsComponent.html" >BrowseCommonsComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/BrowseGroupsComponent.html" >BrowseGroupsComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/BrowseInstitutionComponent.html" >BrowseInstitutionComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/BrowsePage.html" >BrowsePage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/CardViewComponent.html" >CardViewComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/CategoryPage.html" >CategoryPage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ChangePasswordModal.html" >ChangePasswordModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ClusterPage.html" >ClusterPage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/CollectionBadgeComponent.html" >CollectionBadgeComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/CollectionPage.html" >CollectionPage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ConfirmModal.html" >ConfirmModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/DeleteIgModal.html" >DeleteIgModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/DownloadLimitModal.html" >DownloadLimitModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/EditPersonalCollectionModal.html" >EditPersonalCollectionModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/FeaturedComponent.html" >FeaturedComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/Footer.html" >Footer</a>
                                </li>
                                <li class="link">
                                    <a href="../components/GeneralSearchComponent.html" >GeneralSearchComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/GenerateCitation.html" >GenerateCitation</a>
                                </li>
                                <li class="link">
                                    <a href="../components/GuideTourComponent.html" >GuideTourComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/Home.html" >Home</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ImageGroupPPPage.html" >ImageGroupPPPage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ImageGroupPage.html" >ImageGroupPage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/LibraryComponent.html" >LibraryComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/LinkPage.html" >LinkPage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/Login.html" >Login</a>
                                </li>
                                <li class="link">
                                    <a href="../components/LoginFormComponent.html" >LoginFormComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/LoginReqModal.html" >LoginReqModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/MyCollectionsComponent.html" >MyCollectionsComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/Nav.html" >Nav</a>
                                </li>
                                <li class="link">
                                    <a href="../components/NavMenu.html" >NavMenu</a>
                                </li>
                                <li class="link">
                                    <a href="../components/NewIgModal.html" >NewIgModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/NoContent.html" >NoContent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/NoIgModal.html" >NoIgModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/PCollectionPage.html" >PCollectionPage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/PaginationComponent.html" >PaginationComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/PptModalComponent.html" >PptModalComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/PromptComponent.html" >PromptComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/PwdResetModal.html" >PwdResetModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/RegisterComponent.html" >RegisterComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/RegisterJstorModal.html" >RegisterJstorModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SearchComponent.html" >SearchComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SearchModal.html" >SearchModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SearchPage.html" >SearchPage</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ServerErrorModal.html" >ServerErrorModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SessionExpireModal.html" >SessionExpireModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ShareIgLinkModal.html" >ShareIgLinkModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ShareLinkModal.html" >ShareLinkModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SkyBannerComponent.html" >SkyBannerComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/TagComponent.html" >TagComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/TagsListComponent.html" >TagsListComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ThumbnailComponent.html" >ThumbnailComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/UploaderComponent.html" >UploaderComponent</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-code"></span>
                            <span>Directives</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-directives-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-directives-links"
                            >
                                <li class="link">
                                    <a href="../directives/ClickOutsideDirective.html" >ClickOutsideDirective</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-file-code-o"></span>
                            <span>Classes</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-classes-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-classes-links"
                            >
                                <li class="link">
                                    <a href="../classes/Asset.html" >Asset</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/CollectionTypeHandler.html" >CollectionTypeHandler</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/CustomReuseStrategy.html" >CustomReuseStrategy</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/CustomUrlSerializer.html" >CustomUrlSerializer</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/IdleWatcherUtil.html" >IdleWatcherUtil</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/IgFormUtil.html" >IgFormUtil</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/SearchQueryUtil.html" >SearchQueryUtil</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Tag.html" >Tag</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/TagFilter.html" >TagFilter</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/User.html" >User</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../routes.html" ><span class="fa fa-code-fork"></span>Routes</a>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-long-arrow-down"></span>
                            <span>Injectables</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-injectables-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-injectables-links"
                            >
                                <li class="link">
                                    <a href="../injectables/AccountService.html" >AccountService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/AppConfig.html" >AppConfig</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/AssetFiltersService.html" >AssetFiltersService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/AssetSearchService.html" >AssetSearchService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/AssetService.html" >AssetService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/AuthService.html" >AuthService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/DataResolver.html" >DataResolver</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/FlagService.html" >FlagService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/GroupService.html" >GroupService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/GroupsRouteResolver.html" >GroupsRouteResolver</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/ImageGroupService.html" >ImageGroupService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/InstitutionsService.html" >InstitutionsService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/LegacyRouteResolver.html" >LegacyRouteResolver</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/LocalPCService.html" >LocalPCService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/LockerService.html" >LockerService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/LogService.html" >LogService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/MetadataService.html" >MetadataService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/PersonalCollectionService.html" >PersonalCollectionService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/ScriptService.html" >ScriptService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/TagFiltersService.html" >TagFiltersService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/TagsService.html" >TagsService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/TitleService.html" >TitleService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/ToolboxService.html" >ToolboxService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/UnauthorizedInterceptor.html" >UnauthorizedInterceptor</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-info"></span>
                            <span>Interfaces</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-interfaces-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-interfaces-links"
                            >
                                <li class="link">
                                    <a href="../interfaces/AssetData.html" >AssetData</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/AssetDataResponse.html" >AssetDataResponse</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/AssetDetailField.html" >AssetDetailField</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/AssetDetailsFormValue.html" >AssetDetailsFormValue</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/AssetDetailsRequestObject.html" >AssetDetailsRequestObject</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/CollectionTypeInfo.html" >CollectionTypeInfo</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/CollectionValue.html" >CollectionValue</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/DeletePersonalAssetResponse.html" >DeletePersonalAssetResponse</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/FacetGroup.html" >FacetGroup</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/FacetObject.html" >FacetObject</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/FeaturedCollection.html" >FeaturedCollection</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/FileProperty.html" >FileProperty</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/FlagServiceResponse.html" >FlagServiceResponse</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/FormattedMetadata.html" >FormattedMetadata</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/GetPersonalCollectionResponse.html" >GetPersonalCollectionResponse</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/GroupFilter.html" >GroupFilter</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/GroupList.html" >GroupList</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/GroupQuery.html" >GroupQuery</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/HierarchicalFilter.html" >HierarchicalFilter</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/IgFormValue.html" >IgFormValue</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/ImageFPXResponse.html" >ImageFPXResponse</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/ImageGroup.html" >ImageGroup</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/ImageGroupDescription.html" >ImageGroupDescription</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/ImageGroupItem.html" >ImageGroupItem</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/LocalPCAsset.html" >LocalPCAsset</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/LogMessage.html" >LogMessage</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/LogResponse.html" >LogResponse</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/MediaObject.html" >MediaObject</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/MetadataField.html" >MetadataField</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/MetadataRes.html" >MetadataRes</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/MetadataResponse.html" >MetadataResponse</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/PersonalCollectionUploadAsset.html" >PersonalCollectionUploadAsset</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/PostPersonalCollectionResponse.html" >PostPersonalCollectionResponse</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/RawFile.html" >RawFile</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/RawSearchAsset.html" >RawSearchAsset</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/RawSearchResponse.html" >RawSearchResponse</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/RouteStorageObject.html" >RouteStorageObject</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/SSLoginResponse.html"  class="active" >SSLoginResponse</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/Scripts.html" >Scripts</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/SearchAsset.html" >SearchAsset</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/SearchOptions.html" >SearchOptions</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/SearchParams.html" >SearchParams</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/SearchRequest.html" >SearchRequest</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/SearchResponse.html" >SearchResponse</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/SelectedFilter.html" >SelectedFilter</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/SolrFacet.html" >SolrFacet</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/Thumbnail.html" >Thumbnail</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/TourStep.html" >TourStep</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/UpdateUserResponse.html" >UpdateUserResponse</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/User.html" >User</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/UserRolesAndDepts.html" >UserRolesAndDepts</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/categoryName.html" >categoryName</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/iTagFilter.html" >iTagFilter</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/updatepcImageMetadataResponse.html" >updatepcImageMetadataResponse</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-plus"></span>
                            <span>Pipes</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-pipes-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-pipes-links"
                            >
                                <li class="link">
                                    <a href="../pipes/IgGroupFilterPipe.html" >IgGroupFilterPipe</a>
                                </li>
                                <li class="link">
                                    <a href="../pipes/KeysPipe.html" >KeysPipe</a>
                                </li>
                                <li class="link">
                                    <a href="../pipes/LinkifyPipe.html" >LinkifyPipe</a>
                                </li>
                                <li class="link">
                                    <a href="../pipes/TypeIdPipe.html" >TypeIdPipe</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../miscellaneous.html" ><span class="fa fa-cubes"></span>Miscellaneous</a>
                    </li>
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../coverage.html" ><span class="fa fa-tasks"></span>Documentation coverage</a>
                    </li>
            
                    <li class="divider"></li>
                    <li class="copyright">
                            Documentation generated using <a href="https://compodoc.github.io/compodoc/" target="_blank">
                                        <img src="..//images/compodoc-vectorise.svg" class="img-responsive">
                            </a>
                    </li>
            
                </ul>
            
            </nav>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <nav>
                   
                       <ul class="list">
                   
                           <li class="title">
                               <a href="../">avatar documentation</a>
                           </li>
                   
                           <li class="divider"></li>
                   
                               <div id="book-search-input" role="search">
                                   <input type="text" placeholder="Type to search">
                               </div>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../"><span class="fa fa-home"></span>Getting started</a>
                               <ul class="links">
                                       <li class="link">
                                           <a href="../" ><span class="fa fa-file-text-o"></span>README</a>
                                       </li>
                                       <li class="link">
                                           <a 
                                               
                                                href="../overview.html" 
                                                href="../overview.html" 
                                               >
                                               <span class="fa fa-th"></span>Overview
                                           </a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="./modules.html" >
                                   <span class="fa fa-archive"></span>
                                   <span>Modules</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#modules-links"
                                   ></span>
                               </a>
                               <ul class="links collapse in"
                                       id="modules-links"
                   >
                                       <li class="link">
                                           <a href="../modules/AppModule.html" >AppModule</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-cogs"></span>
                                   <span>Components</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#components-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="components-links"
                   >
                                       <li class="link">
                                           <a href="../components/AccessDeniedModal.html" >AccessDeniedModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/AccountPage.html" >AccountPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/AddToGroupModal.html" >AddToGroupModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/AgreeModalComponent.html" >AgreeModalComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/App.html" >App</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/AssetFilters.html" >AssetFilters</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/AssetGrid.html" >AssetGrid</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/AssetPPPage.html" >AssetPPPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/AssetPage.html" >AssetPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/AssociatedPage.html" >AssociatedPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/BrowseCommonsComponent.html" >BrowseCommonsComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/BrowseGroupsComponent.html" >BrowseGroupsComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/BrowseInstitutionComponent.html" >BrowseInstitutionComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/BrowsePage.html" >BrowsePage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/CardViewComponent.html" >CardViewComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/CategoryPage.html" >CategoryPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ChangePasswordModal.html" >ChangePasswordModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ClusterPage.html" >ClusterPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/CollectionBadgeComponent.html" >CollectionBadgeComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/CollectionPage.html" >CollectionPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ConfirmModal.html" >ConfirmModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/DeleteIgModal.html" >DeleteIgModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/DownloadLimitModal.html" >DownloadLimitModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/EditPersonalCollectionModal.html" >EditPersonalCollectionModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/FeaturedComponent.html" >FeaturedComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/Footer.html" >Footer</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/GeneralSearchComponent.html" >GeneralSearchComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/GenerateCitation.html" >GenerateCitation</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/GuideTourComponent.html" >GuideTourComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/Home.html" >Home</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ImageGroupPPPage.html" >ImageGroupPPPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ImageGroupPage.html" >ImageGroupPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/LibraryComponent.html" >LibraryComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/LinkPage.html" >LinkPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/Login.html" >Login</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/LoginFormComponent.html" >LoginFormComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/LoginReqModal.html" >LoginReqModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/MyCollectionsComponent.html" >MyCollectionsComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/Nav.html" >Nav</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/NavMenu.html" >NavMenu</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/NewIgModal.html" >NewIgModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/NoContent.html" >NoContent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/NoIgModal.html" >NoIgModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/PCollectionPage.html" >PCollectionPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/PaginationComponent.html" >PaginationComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/PptModalComponent.html" >PptModalComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/PromptComponent.html" >PromptComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/PwdResetModal.html" >PwdResetModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/RegisterComponent.html" >RegisterComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/RegisterJstorModal.html" >RegisterJstorModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SearchComponent.html" >SearchComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SearchModal.html" >SearchModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SearchPage.html" >SearchPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ServerErrorModal.html" >ServerErrorModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SessionExpireModal.html" >SessionExpireModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ShareIgLinkModal.html" >ShareIgLinkModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ShareLinkModal.html" >ShareLinkModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SkyBannerComponent.html" >SkyBannerComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/TagComponent.html" >TagComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/TagsListComponent.html" >TagsListComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ThumbnailComponent.html" >ThumbnailComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/UploaderComponent.html" >UploaderComponent</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-code"></span>
                                   <span>Directives</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#directives-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="directives-links"
                   >
                                       <li class="link">
                                           <a href="../directives/ClickOutsideDirective.html" >ClickOutsideDirective</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-file-code-o"></span>
                                   <span>Classes</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#classes-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="classes-links"
                   >
                                       <li class="link">
                                           <a href="../classes/Asset.html" >Asset</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/CollectionTypeHandler.html" >CollectionTypeHandler</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/CustomReuseStrategy.html" >CustomReuseStrategy</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/CustomUrlSerializer.html" >CustomUrlSerializer</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/IdleWatcherUtil.html" >IdleWatcherUtil</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/IgFormUtil.html" >IgFormUtil</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/SearchQueryUtil.html" >SearchQueryUtil</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Tag.html" >Tag</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/TagFilter.html" >TagFilter</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/User.html" >User</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../routes.html" ><span class="fa fa-code-fork"></span>Routes</a>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-long-arrow-down"></span>
                                   <span>Injectables</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#injectables-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="injectables-links"
                   >
                                       <li class="link">
                                           <a href="../injectables/AccountService.html" >AccountService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/AppConfig.html" >AppConfig</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/AssetFiltersService.html" >AssetFiltersService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/AssetSearchService.html" >AssetSearchService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/AssetService.html" >AssetService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/AuthService.html" >AuthService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/DataResolver.html" >DataResolver</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/FlagService.html" >FlagService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/GroupService.html" >GroupService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/GroupsRouteResolver.html" >GroupsRouteResolver</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/ImageGroupService.html" >ImageGroupService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/InstitutionsService.html" >InstitutionsService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/LegacyRouteResolver.html" >LegacyRouteResolver</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/LocalPCService.html" >LocalPCService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/LockerService.html" >LockerService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/LogService.html" >LogService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/MetadataService.html" >MetadataService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/PersonalCollectionService.html" >PersonalCollectionService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/ScriptService.html" >ScriptService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/TagFiltersService.html" >TagFiltersService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/TagsService.html" >TagsService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/TitleService.html" >TitleService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/ToolboxService.html" >ToolboxService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/UnauthorizedInterceptor.html" >UnauthorizedInterceptor</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-info"></span>
                                   <span>Interfaces</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#interfaces-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="interfaces-links"
                   >
                                       <li class="link">
                                           <a href="../interfaces/AssetData.html" >AssetData</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/AssetDataResponse.html" >AssetDataResponse</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/AssetDetailField.html" >AssetDetailField</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/AssetDetailsFormValue.html" >AssetDetailsFormValue</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/AssetDetailsRequestObject.html" >AssetDetailsRequestObject</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/CollectionTypeInfo.html" >CollectionTypeInfo</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/CollectionValue.html" >CollectionValue</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/DeletePersonalAssetResponse.html" >DeletePersonalAssetResponse</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/FacetGroup.html" >FacetGroup</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/FacetObject.html" >FacetObject</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/FeaturedCollection.html" >FeaturedCollection</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/FileProperty.html" >FileProperty</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/FlagServiceResponse.html" >FlagServiceResponse</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/FormattedMetadata.html" >FormattedMetadata</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/GetPersonalCollectionResponse.html" >GetPersonalCollectionResponse</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/GroupFilter.html" >GroupFilter</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/GroupList.html" >GroupList</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/GroupQuery.html" >GroupQuery</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/HierarchicalFilter.html" >HierarchicalFilter</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/IgFormValue.html" >IgFormValue</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/ImageFPXResponse.html" >ImageFPXResponse</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/ImageGroup.html" >ImageGroup</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/ImageGroupDescription.html" >ImageGroupDescription</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/ImageGroupItem.html" >ImageGroupItem</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/LocalPCAsset.html" >LocalPCAsset</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/LogMessage.html" >LogMessage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/LogResponse.html" >LogResponse</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/MediaObject.html" >MediaObject</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/MetadataField.html" >MetadataField</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/MetadataRes.html" >MetadataRes</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/MetadataResponse.html" >MetadataResponse</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/PersonalCollectionUploadAsset.html" >PersonalCollectionUploadAsset</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/PostPersonalCollectionResponse.html" >PostPersonalCollectionResponse</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/RawFile.html" >RawFile</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/RawSearchAsset.html" >RawSearchAsset</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/RawSearchResponse.html" >RawSearchResponse</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/RouteStorageObject.html" >RouteStorageObject</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/SSLoginResponse.html"  class="active" >SSLoginResponse</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/Scripts.html" >Scripts</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/SearchAsset.html" >SearchAsset</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/SearchOptions.html" >SearchOptions</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/SearchParams.html" >SearchParams</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/SearchRequest.html" >SearchRequest</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/SearchResponse.html" >SearchResponse</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/SelectedFilter.html" >SelectedFilter</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/SolrFacet.html" >SolrFacet</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/Thumbnail.html" >Thumbnail</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/TourStep.html" >TourStep</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/UpdateUserResponse.html" >UpdateUserResponse</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/User.html" >User</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/UserRolesAndDepts.html" >UserRolesAndDepts</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/categoryName.html" >categoryName</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/iTagFilter.html" >iTagFilter</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/updatepcImageMetadataResponse.html" >updatepcImageMetadataResponse</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-plus"></span>
                                   <span>Pipes</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#pipes-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="pipes-links"
                   >
                                       <li class="link">
                                           <a href="../pipes/IgGroupFilterPipe.html" >IgGroupFilterPipe</a>
                                       </li>
                                       <li class="link">
                                           <a href="../pipes/KeysPipe.html" >KeysPipe</a>
                                       </li>
                                       <li class="link">
                                           <a href="../pipes/LinkifyPipe.html" >LinkifyPipe</a>
                                       </li>
                                       <li class="link">
                                           <a href="../pipes/TypeIdPipe.html" >TypeIdPipe</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../miscellaneous.html" ><span class="fa fa-cubes"></span>Miscellaneous</a>
                           </li>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../coverage.html" ><span class="fa fa-tasks"></span>Documentation coverage</a>
                           </li>
                   
                           <li class="divider"></li>
                           <li class="copyright">
                                   Documentation generated using <a href="https://compodoc.github.io/compodoc/" target="_blank">
                                               <img src="..//images/compodoc-vectorise.svg" class="img-responsive">
                                   </a>
                           </li>
                   
                       </ul>
                   
                   </nav>
               </div>
               <div class="content interface">
                   <div class="content-data">







<ol class="breadcrumb">
  <li>Interfaces</li>
  <li>SSLoginResponse</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
    <li class="active">
        <a href="#infos" id="infos-tab" role="tab" data-toggle="tab">Infos</a>
    </li>
    <li>
        <a href="#source" role="tab" id="source-tab" data-toggle="tab">Source</a>
    </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="infos">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/shared/auth.service.ts</code>
        </p>





            <section>
                <h3 id="inputs">Properties</h3>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <b>active</b>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>active:     <code>boolean</code>
</bcode>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>boolean</code>

                                        </td>
                                    </tr>



                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <b>email</b>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>email:     <code>string</code>
</bcode>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>string</code>

                                        </td>
                                    </tr>



                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <b>firstname</b>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>firstname:     <code>string</code>
</bcode>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>string</code>

                                        </td>
                                    </tr>



                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <b>institutionid</b>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>institutionid:     <code>string</code>
</bcode>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>string</code>

                                        </td>
                                    </tr>



                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <b>lastname</b>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>lastname:     <code>string</code>
</bcode>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>string</code>

                                        </td>
                                    </tr>



                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <b>profileid</b>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>profileid:     <code>number</code>
</bcode>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>number</code>

                                        </td>
                                    </tr>



                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <b>ss</b>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>ss:     <code>{ admin_for: number[]; enabled_for: number[]; }</code>
</bcode>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>{ admin_for: number[]; enabled_for: number[]; }</code>

                                        </td>
                                    </tr>



                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <b>userid</b>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>userid:     <code>string</code>
</bcode>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>string</code>

                                        </td>
                                    </tr>



                        </tbody>
                    </table>
            </section>
    </div>
    <div class="tab-pane fade tab-source-code" id="source">
        <pre><code class="hljs javascript">import { Injectable } from &#x27;@angular/core&#x27;
import { Location } from &#x27;@angular/common&#x27;
import { Locker, LockerConfig, DRIVERS } from &#x27;angular-safeguard&#x27;
import { HttpClient, HttpHeaders } from &#x27;@angular/common/http&#x27;
import {
  CanActivate,
  Router,
  ActivatedRouteSnapshot,
  RouterStateSnapshot
} from &#x27;@angular/router&#x27;
import { Observable, BehaviorSubject, Subject, from } from &#x27;rxjs&#x27;
import { map, take, catchError } from &#x27;rxjs/operators&#x27;

// Project dependencies
import { AppConfig } from &#x27;../app.service&#x27;

// For session timeout management
import { IdleWatcherUtil } from &#x27;./idle-watcher&#x27;
import {Idle, DEFAULT_INTERRUPTSOURCES} from &#x27;@ng-idle/core&#x27;
import { FlagService } from &#x27;./flag.service&#x27;
import { error } from &#x27;@angular/compiler/src/util&#x27;;
import { LockerService } from &#x27;app/_services&#x27;;

/**
 * Controls authorization through IP address and locally stored user object
 */

@Injectable()
export class AuthService implements CanActivate {
  public currentUser: Observable&lt;any&gt;
  // Track whether or not user object has been refreshed since app opened
  public userSessionFresh: boolean &#x3D; false
  public showUserInactiveModal: Subject&lt;boolean&gt; &#x3D; new Subject(); // Set up subject observable for showing inactive user modal
  private ENV: string;
  private baseUrl;
  private imageFpxUrl;
  private lostPassUrl;
  private hostname;
  private subdomain;
  private thumbUrl;
  private compoundUrl;
  private IIIFUrl;
  private logUrl: string;
  private groupUrl &#x3D; &#x27;&#x27;;
  private solrUrl: string;

  private institutionObjValue: any &#x3D; {};
  private institutionObjSource: BehaviorSubject&lt;any&gt; &#x3D; new BehaviorSubject(this.institutionObjValue);
  private currentInstitutionObj: Observable&lt;any&gt; &#x3D; this.institutionObjSource.asObservable();

  private userSource: BehaviorSubject&lt;any&gt; &#x3D; new BehaviorSubject({});

  private idleState: string &#x3D; &#x27;Not started.&#x27;;

  private isOpenAccess: boolean;

  /**
   * We need to make SURE /userinfo is not cached
   * - Successful login returns a 302 to /userinfo, which IE 11 is more than happy to cache :(
   * - We make every /userinfo call unique to ensure a response is never reused
   * - &#x27;no-store&#x27; &gt; &#x27;no-cache&#x27; in denying caching
   */
  private userInfoHeader: HttpHeaders &#x3D; new HttpHeaders().set(&#x27;Cache-Control&#x27;, &#x27;no-store, no-cache&#x27;)

  private refreshUserSessionInProgress: boolean &#x3D; false

  constructor(
    private _router: Router,
    // private _login: LoginService,
    private _locker: LockerService,
    private http: HttpClient,
    private location: Location,
    private _app: AppConfig,
    private _flags: FlagService,
    private idle: Idle
  ) {
    // Initialize observables
    this.currentUser &#x3D; this.userSource.asObservable()
    // Default to relative or prod endpoints
    this.ENV &#x3D; &#x27;prod&#x27;
    this.hostname &#x3D; &#x27;&#x27;
    this.baseUrl &#x3D;  &#x27;/api&#x27;
    this.thumbUrl &#x3D; &#x27;//mdxdv.artstor.org&#x27;
    this.compoundUrl &#x3D; &#x27;//catalog.sharedshelf.artstor.org&#x27;
    this.IIIFUrl &#x3D; &#x27;//tsprod.artstor.org/rosa-iiif-endpoint-1.0-SNAPSHOT/fpx&#x27;
    this.subdomain &#x3D; &#x27;library&#x27;
    this.solrUrl &#x3D; &#x27;/api/search/v1.0/search&#x27;

    // Set WLV variables
    this.isOpenAccess &#x3D; this._app.config.isOpenAccess

    let testHostnames &#x3D; [
      &#x27;localhost&#x27;,
      &#x27;local.artstor.org&#x27;,
      &#x27;stage.artstor.org&#x27;,
      // test.artstor subdomain is used for WLVs
      &#x27;test.artstor.org&#x27;,
      &#x27;test.cirrostratus.org&#x27;
    ]

    let prodHostnames &#x3D; [
      &#x27;library.artstor.org&#x27;,
      &#x27;beta.artstor.org&#x27;,
      &#x27;proxy.artstor.org&#x27;,
      // prod.artstor subdomain is used for WLVs
      &#x27;prod.artstor.org&#x27;,
      &#x27;sahara.artstor.org&#x27;
    ]

    // Check domain
    if (  new RegExp(prodHostnames.join(&#x27;|&#x27;)).test(document.location.hostname)  ) {
      // Explicit live endpoints
      this.logUrl &#x3D; &#x27;//ang-ui-logger.apps.prod.cirrostratus.org/api/v1&#x27;
      this.solrUrl &#x3D; &#x27;/api/search/v1.0/search&#x27;
      this.ENV &#x3D; &#x27;prod&#x27;
    }
    else if ( document.location.hostname.indexOf(&#x27;prod.cirrostratus.org&#x27;) &gt; -1 ) {
      console.info(&#x27;Using Prod Endpoints (Absolute)&#x27;)
      // Prod/Lively endpoints
      this.hostname &#x3D; &#x27;//library.artstor.org&#x27;
      this.baseUrl &#x3D;  &#x27;//library.artstor.org/api&#x27;
      this.logUrl &#x3D; &#x27;//ang-ui-logger.apps.prod.cirrostratus.org/api/v1&#x27;
      this.solrUrl &#x3D; this.hostname + &#x27;/api/search/v1.0/search&#x27;
      this.ENV &#x3D; &#x27;prod&#x27;
    } else if ( new RegExp(testHostnames.join(&#x27;|&#x27;)).test(document.location.hostname) ) {
      console.info(&#x27;Using Test Endpoints&#x27;)
      // Test Endpoints
      this.hostname &#x3D; &#x27;//stage.artstor.org&#x27;
      this.subdomain &#x3D; &#x27;stage&#x27;
      this.baseUrl &#x3D; &#x27;//stage.artstor.org/api&#x27;
      this.thumbUrl &#x3D; &#x27;//mdxstage.artstor.org&#x27;
      this.compoundUrl &#x3D; &#x27;http://catalog.sharedshelf.stage.artstor.org&#x27;
      this.logUrl &#x3D; &#x27;//ang-ui-logger.apps.test.cirrostratus.org/api/v1&#x27;
      this.solrUrl &#x3D; &#x27;/api/search/v1.0/search&#x27;
      this.IIIFUrl &#x3D; &#x27;//tsstage.artstor.org/rosa-iiif-endpoint-1.0-SNAPSHOT/fpx&#x27;
      this.ENV &#x3D; &#x27;test&#x27;
    }

    // Additional Local dev domains
    if (document.location.hostname.indexOf(&#x27;local.sahara&#x27;) &gt; -1) {
      this.hostname &#x3D; &#x27;//sahara.beta.stage.artstor.org&#x27;
      this.ENV &#x3D; &#x27;test&#x27;
    }

    // Sahara routing WORKAROUND
    if (document.location.hostname.indexOf(&#x27;sahara.beta.stage.artstor.org&#x27;) &gt; -1) {
      this.hostname &#x3D; &#x27;//sahara.beta.stage.artstor.org&#x27;
      this.ENV &#x3D; &#x27;test&#x27;
    }
    if (document.location.hostname.indexOf(&#x27;sahara.prod.artstor.org&#x27;) &gt; -1) {
      this.hostname &#x3D; &#x27;//sahara.prod.artstor.org/&#x27;
    }

    // Local routing should point to full URL
    // * This should NEVER apply when using a proxy, as it will break authorization
    if (new RegExp([&#x27;cirrostratus.org&#x27;, &#x27;localhost&#x27;, &#x27;local.&#x27;, &#x27;sahara.beta.stage.artstor.org&#x27;, &#x27;sahara.prod.artstor.org&#x27;].join(&#x27;|&#x27;)).test(document.location.hostname)) {
      this.baseUrl &#x3D; this.hostname + &#x27;/api&#x27;
      this.solrUrl &#x3D; this.hostname + &#x27;/api/search/v1.0/search&#x27;
    }

    // For session timeout on user inactivity
    idle.setIdle(IdleWatcherUtil.generateIdleTime()); // Set an idle time of 1 min, before starting to watch for timeout
    idle.setTimeout(IdleWatcherUtil.generateSessionLength()); // Log user out after 90 mins of inactivity
    idle.setInterrupts(DEFAULT_INTERRUPTSOURCES);

    idle.onIdleEnd.pipe(
      map(() &#x3D;&gt; {
        this.idleState &#x3D; &#x27;No longer idle.&#x27;;
        // We want to ensure a user is refreshed as soon as they return to the tab
        this.refreshUserSession(true)
      })).subscribe()

    idle.onTimeout.pipe(
      map(() &#x3D;&gt; {
        let user &#x3D; this.getUser();
        // console.log(user);
        if (user &amp;&amp; user.isLoggedIn){
          this.expireSession();
          this.showUserInactiveModal.next(true);
          this.idleState &#x3D; &#x27;Timed out!&#x27;;
        }
        else{
          this.resetIdleWatcher()
        }
      })).subscribe()

    idle.onIdleStart.pipe(
      map(() &#x3D;&gt; {
        this.idleState &#x3D; &#x27;You\&#x27;ve gone idle!&#x27;;
        let currentDateTime &#x3D; new Date().toUTCString();
        this._locker.set(&#x27;userGoneIdleAt&#x27;, currentDateTime);
      })).subscribe()

    idle.onTimeoutWarning.pipe(
      map((countdown) &#x3D;&gt; {
        this.idleState &#x3D; &#x27;You will time out in &#x27; + countdown + &#x27; seconds!&#x27;
        // console.log(this.idleState);
      })).subscribe()

    // Init idle watcher (this will also run getUserInfo)
    this.resetIdleWatcher()

    // Initialize user and institution objects from localstorage
    this.userSource.next(this.getUser())
    let institution &#x3D; this._locker.get(&#x27;institution&#x27;)
    if (institution) { this.institutionObjSource.next(institution) }

    /**
     * User Access Heartbeat
     * - Poll /userinfo every 15min
     * - Refreshs AccessToken with IAC
     */
    const userInfoInterval &#x3D; 15 * 1000 * 60 * 60
    // Run every X mins
    setInterval(() &#x3D;&gt; {
      this.refreshUserSession(true)
    }, userInfoInterval)
  }

  // Reset the idle watcher
  public resetIdleWatcher(): void {
    this.idle.watch();
    // When a user comes back, we don&#x27;t want to wait for the time interval to refresh the session
    this.refreshUserSession(true)
  }
  public refreshUserSession(triggerSessionExpModal?: boolean) {
    // cancel out if we&#x27;re currently getting the user session
    if (this.refreshUserSessionInProgress &amp;&amp; !triggerSessionExpModal) { return }

    // set to true so we don&#x27;t have multiple /userinfo calls going on at once
    this.refreshUserSessionInProgress &#x3D; true
    this.getUserInfo(triggerSessionExpModal)
      .pipe(
        take(1),
        map((res) &#x3D;&gt; {
          this.refreshUserSessionInProgress &#x3D; false
          console.info(&#x27;Access Token refreshed &lt;3&#x27;)
        },
        (err) &#x3D;&gt; {
          this.refreshUserSessionInProgress &#x3D; false
          console.error(&#x27;Access Token refresh failed &lt;/3&#x27;, err)
        })
      ).subscribe()
  }

  /**
   * Logs out and redirects the user to the login component
   */
  public logout() {
      // Stop, unwatch Idle session. Note: resetIdleWatcher() calls watch, and is called from login component
      this.idle.stop()

      let header &#x3D; new HttpHeaders().set(&#x27;Content-Type&#x27;, &#x27;application/x-www-form-urlencoded&#x27;); // ... Set content type to JSON
      let options &#x3D; { headers: header, withCredentials: true };

      // Clear local user object, and other settings
      this.clearStorage()
      // Clear observables
      this.userSource.next({})
      this.institutionObjSource.next({})

      return this.http
          .post(this.getUrl(true) + &#x27;/logout&#x27;, {}, options)
          .toPromise()
          .catch(function(err) {
              // error handling
              console.error(err)
          });
  }


  /**
   * Encodes javascript object into a URI component
   * @param obj The object to be encoded
   */
  public formEncode(obj: Object): string {
      let encodedString &#x3D; &#x27;&#x27;;
      for (let key in obj) {
          if (encodedString.length !&#x3D;&#x3D; 0) {
              encodedString +&#x3D; &#x27;&amp;&#x27;;
          }
          encodedString +&#x3D; key + &#x27;&#x3D;&#x27; + encodeURIComponent(obj[key]);
      }
      return encodedString.replace(/%20/g, &#x27;+&#x27;);
  }

  public getInstitution(): Observable&lt;any&gt; {
    return this.currentInstitutionObj;
  }

  public setInstitution(institutionObj: any): void {
    // Save to local storage
    this._locker.set(&#x27;institution&#x27;, institutionObj)
    // Update Observable
    this.institutionObjValue &#x3D; institutionObj;
    this.institutionObjSource.next(this.institutionObjValue);
  }

  /**
   * Gets the roles and departments lists, which are used in the registration page
   * @returns Observable resolved with object containing: roleArray, deptArray
   */
  public getUserRoles(): Observable&lt;any&gt; {
    return this.http.get(this.getUrl(true) + &#x27;/user?_method&#x3D;deptRoles&#x27;)
  }

  /** Calls service to register a user
   * @param registration should have properties: _method&#x3D;&quot;update&quot;, username, password, role, dept, info&lt;boolean&gt;, survey&lt;boolean&gt;
   */
  public registerUser(registration: any): Observable&lt;any&gt; {
    let data &#x3D; this.formEncode(registration);

    let header &#x3D; new HttpHeaders().set(&#x27;Content-Type&#x27;, &#x27;application/x-www-form-urlencoded&#x27;); // form encode it
    let options &#x3D; { headers: header, withCredentials: true }; // Create a request option
    return this.http.post(this.getUrl(true) + &#x27;/register&#x27;, data , options);
  }

  /**
   * Shibboleth/Saml registration
   * @param registration in addition to regular registration form, requires &quot;samlTokenId&quot; property
   */
  public registerSamlUser(registration: any): Observable&lt;any&gt; {
    // Clear method used for regular registration
    registration[&#x27;_method&#x27;] &#x3D; null
    // // Encode da
    // let dataStr &#x3D; this.formEncode(registration)
    let header &#x3D; new HttpHeaders().set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)
    let options &#x3D; { headers: header, withCredentials: true }

    return this.http.post(this.getHostname() + &#x27;/saml/user/create&#x27;, registration , options)
  }

  /**
   * Shibboleth/Saml linking
   * @param user Artstor login credentials requires &quot;username&quot;, &quot;password&quot;, and &quot;samlTokenId&quot;
   */
  public linkSamlUser(credentials: any): Promise&lt;any&gt; {
    let header &#x3D; new HttpHeaders().set(&#x27;Content-Type&#x27;, &#x27;application/json&#x27;)
    let options &#x3D; { headers: header, withCredentials: true }

    return this.http.post(this.getHostname() + &#x27;/saml/user/link&#x27;, credentials , options)
      .toPromise()
  }

  public changePassword(oldPass: string, newPass: string): Observable&lt;any&gt; {
    let header &#x3D; new HttpHeaders().set(&#x27;Content-Type&#x27;, &#x27;application/x-www-form-urlencoded&#x27;); // form encode it
    let options &#x3D; { headers: header, withCredentials: true }; // Create a request option
    let data &#x3D; this.formEncode({
      _method: &#x27;updatePassword&#x27;,
      oldPassword: oldPass,
      password: newPass
    });

    return this.http.post(this.getUrl(true) + &#x27;/profile&#x27;, data, options)
  }

  public getUrl(secure?: boolean): string {
    let url: string &#x3D; this.baseUrl
    if (secure) {
      url +&#x3D; &#x27;/secure&#x27;
    }
    return url
  }

  public getHostname(): string {
    return this.hostname;
  }

  public getSubdomain(): string {
    return this.subdomain;
  }

  public getIIIFUrl(): string {
    return this.IIIFUrl;
  }

  public getSearchUrl(): string {
    return this.solrUrl;
  }

  public getEnv(): string {
    return this.ENV;
  }

  /**
   * Our thumbnails come
   */
  public getThumbUrl(compound?: boolean): string {
    if (compound) {
      return this.compoundUrl;
    }
    return this.thumbUrl;
  }

  /** Returns url used for downloading some media, such as documents */
  public getMediaUrl(): string {
    // This is a special case, and should always points to library.artstor or stage
    return this.getHostname() + &#x27;/media&#x27;;
  }

  /**
   * Saves user to local storage
   * @param user The user should be an object to store in sessionstorage
   */
  public saveUser(user: any) {
    // Preserve user via localstorage
    this._locker.set(&#x27;user&#x27;, user);
    // only do these things if the user is ip auth&#x27;d or logged in and the user has changed
    let institution &#x3D; this.institutionObjSource.getValue();
    if (user.status &amp;&amp; (!institution.institutionId || user.institutionId !&#x3D; institution.institutionId)) {
      // Refresh institution object
      this.refreshUserInstitution()
    }
    // Update observable
    this.userSource.next(user)

    // if (user.status &amp;&amp; (this._locker.get(&#x27;user&#x27;).username !&#x3D; user.username || !institution.institutionid)) {
  }

  /**
   * Gets user object from local storage
   */
  public getUser(): any {
      return this._locker.get(&#x27;user&#x27;) ? this._locker.get(&#x27;user&#x27;) : {};
  }

  /** Stores an object in local storage for you - your welcome */
  public store(key: string, value: any): void {
      if (key !&#x3D; &#x27;user&#x27; &amp;&amp; key !&#x3D; &#x27;token&#x27;) {
          this._locker.set(key, value);
      }
  }

  /** Gets an object from local storage */
  public getFromStorage(key: string): any {
      return this._locker.get(key);
  }

  /** Deletes things (not user or token) from local storage */
  public deleteFromStorage(key: string): void {
      if (key !&#x3D; &#x27;user&#x27; &amp;&amp; key !&#x3D; &#x27;token&#x27;) {
          this._locker.remove(key);
      }
  }

  /** Clears all variables held in local storage */
  public clearStorage(): void {
    this._locker.clear();
  }

  /**
   * Required by implementing CanActivate, and is called on routes which are protected by canActivate: [AuthService]
   */
  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable&lt;boolean&gt; {
    let options &#x3D; { headers: this.userInfoHeader, withCredentials: true }

    if ((route.params.samlTokenId || route.params.type &#x3D;&#x3D; &#x27;shibboleth&#x27;) &amp;&amp; state.url.includes(&#x27;/register&#x27;)) {
      // Shibboleth workflow is unique, should allow access to the register page
      return new Observable(observer &#x3D;&gt; {
        observer.next(true)
      })
    } else if (this.isPublicOnly() &amp;&amp; state.url.includes(&#x27;/register&#x27;)) {
      // For unaffiliated users, trying to access /register route
      return new Observable(observer &#x3D;&gt; {
        observer.next(false)
      })
    } else if (this.canUserAccess(this.getUser())) {
      // If user object already exists, we&#x27;re done here
      return new Observable(observer &#x3D;&gt; {
        observer.next(true)
      })
    }

    // If user object doesn&#x27;t exist, try to get one!
    return new Observable(observer &#x3D;&gt; {
      this.http
      .get(this.genUserInfoUrl(), options).pipe(
      map(
        (data)  &#x3D;&gt; {
          let user &#x3D; this.decorateValidUser(data)
          // Track whether or not user object has been refreshed since app opened
          this.userSessionFresh &#x3D; true

          if (user &amp;&amp; (this.isOpenAccess || user.status)) {
            // Clear expired session modal
            this.showUserInactiveModal.next(false)
            // Update user object
            this.saveUser(user)
            return true
          } else {
            // We don&#x27;t have a user here, and WLV is not open access, go to /login
            if (!this.isOpenAccess) {
              console.log(&#x27;Not open access - redirecting&#x27;)
              this._router.navigate([&#x27;/login&#x27;])
            }
            else {
              console.log(&#x27;fell through to this.logout&#x27;)
              this.logout()
              // Store the route so that we know where to put them after login!
              this.store(&#x27;stashedRoute&#x27;, this.location.path(false))
              return false
            }
          }
        }
      )).pipe(
      take(1),
      map(res &#x3D;&gt; {
        // CanActivate is not handling the Observable value properly,
        // ... so we do an extra redirect in here
        if (res &#x3D;&#x3D;&#x3D; false) {
          this._router.navigate([&#x27;/login&#x27;])
        }
        observer.next(res)
      }, err &#x3D;&gt; {
        this._router.navigate([&#x27;/login&#x27;])
        observer.next(false)
      })).subscribe()
    })
  }

  /**
   * Asks the back-end for the user&#x27;s info and a fresh set of cookies
   * @param triggerSessionExpModal Sometimes this is called after unsuccessful logins, and we don&#x27;t want failovers to always trigger the modal, so it&#x27;s an option
   */
  public getUserInfo(triggerSessionExpModal?: boolean): Observable&lt;any&gt; {
    let options &#x3D; { headers: this.userInfoHeader, withCredentials: true };

    return this.http
      .get(this.genUserInfoUrl(), options).pipe(
      map((data)  &#x3D;&gt; {
          let user &#x3D; this.decorateValidUser(data)
          // Track whether or not user object has been refreshed since app opened
          this.userSessionFresh &#x3D; true

          if (user &amp;&amp; (this.isOpenAccess || user.status)) {
            // Clear expired session modal
            this.showUserInactiveModal.next(false)
            // Update user object
            this.saveUser(user)
          } else {
            // Clear user session (local objects and cookies)
            this.logout()
          }
          // If user session was downgraded/expired, notify
          if (triggerSessionExpModal &amp;&amp; user.loggedInSessionLost) {
              // Current saved user object needs to be cleared if session was lost
              this.logout()
              // Tell user their session was lost
              this.showUserInactiveModal.next(true)
          }
          return data
        }
      ))
  }

  /** Getter for downloadAuthorized parameter of local storage */
  public downloadAuthorized(): boolean {
    return this._locker.get(&#x27;downloadAuthorized&#x27;);
  }

  /** Setter for downloadAuthorized parameter of local storage */
  public authorizeDownload(): void {
    this._locker.set(&#x27;downloadAuthorized&#x27;, true);
  }

    /**
     * Logs user in
     * @param user User must have username (which is an email address) and password to be passed in the request
     */
    login(user: User): Promise&lt;any&gt; {
        let header &#x3D; new HttpHeaders().set(&#x27;Cache-Control&#x27;, &#x27;no-store, no-cache&#x27;).set(&#x27;Content-Type&#x27;, &#x27;application/x-www-form-urlencoded&#x27;); // ... Set content type to JSON
        let options &#x3D; { headers: header, withCredentials: true }; // Create a request option
        let data &#x3D; this.formEncode({
                &#x27;j_username&#x27;: user.username.toLowerCase(),
                &#x27;j_password&#x27;: user.password
            });

        return this.http
            .post(this.getUrl(true) + &#x27;/login&#x27;, data, options)
            .toPromise();
    }

    getLoginError(user: User) {
        let header &#x3D; new HttpHeaders().set(&#x27;Content-Type&#x27;, &#x27;application/x-www-form-urlencoded&#x27;); // ... Set content type to JSON
        let options &#x3D; { headers: header, withCredentials: true }; // Create a request option

        return this.http
            .get(this.getUrl(true) + &#x27;/login?j_username&#x3D;&#x27; + encodeURIComponent(user.username) + &#x27;&amp;j_password&#x3D;&#x27; + encodeURIComponent(user.password) )
            .toPromise();
    }

    getInstitutions() {
        let url &#x3D; this.getHostname() + &#x27;/api/institutions?_method&#x3D;shibbolethOnly&#x27;;

        return this.http
            .get(url)
            .toPromise();
    }

    pwdReset(email: string) {
        let options &#x3D; { withCredentials: true };

        return this.http
            .get(this.getUrl() + &#x27;/lostpw?email&#x3D;&#x27; + email.toLowerCase() + &#x27;&amp;portal&#x3D;&#x27; + this._app.config.pwResetPortal, options)
            .toPromise();
    }

  public ssLogin(username: string, password: string): Observable&lt;SSLoginResponse&gt; {

    let data &#x3D; this.formEncode({ username: username, password: password })
    let headers &#x3D; new HttpHeaders().set(&#x27;Content-Type&#x27;, &#x27;application/x-www-form-urlencoded&#x27;)
    return this.http.post&lt;SSLoginResponse&gt;(
      [this.hostname, &#x27;gust&#x27;, &#x27;login&#x27;].join(&#x27;/&#x27;),
      data,
      { withCredentials: true, headers: headers }
    )
  }

  public isPublicOnly(): boolean{
    return !(this.getUser() &amp;&amp; this.getUser().status)
  }


  /**
   * Return &quot;category&quot; to report to Google Analytics
   * - We use category to track the type of user the event is tied to
   */
  public getGACategory(): string {
    let category &#x3D; &#x27;unaffiliatedUser&#x27;
    let user &#x3D; this.getUser()

    if (user.isLoggedIn) {
      category &#x3D; &#x27;loggedInUser&#x27;
    } else if (user.institutionId &amp;&amp; user.institutionId.toString().length &gt; 0) {
      category &#x3D; &#x27;institutionalUser&#x27;
    }

    return category
  }
  private genUserInfoUrl(): string {
    return this.getUrl(true) + &#x27;/userinfo?no-cache&#x3D;&#x27; + new Date().valueOf()
  }

  private expireSession(): void {
    this.logout()
      .then(() &#x3D;&gt; {
        // We want the user to see the &quot;Session Expired&quot; modal triggered by this.refreshUserSession() &amp; this.getUserInfo()
        // Do not route user away
      })
  }

  /**
   * Wrapper function for HTTP call to get user institution. Used by nav component
   * @returns Chainable promise containing collection data
   */
  private refreshUserInstitution() {
    let header &#x3D; new HttpHeaders().set(&#x27;Cache-Control&#x27;, &#x27;no-store, no-cache&#x27;)
    let options &#x3D; { headers: header, withCredentials: true }

    // Returns all of the collections names
    return this.http
      .get(this.getUrl() + &#x27;/v2/institution?no-cache&#x3D;&#x27; + new Date().valueOf(), options)
      .toPromise()
      .then((data) &#x3D;&gt; {
        this.setInstitution(data)
        // this.institutionRefreshInProgress &#x3D; false
        return data
      })
      .catch((err) &#x3D;&gt; {
        // this.institutionRefreshInProgress &#x3D; false
        if (err &amp;&amp; err.status !&#x3D; 401 &amp;&amp; err.status !&#x3D; 403) {
          console.error(err)
        }
      })
  }

  /**
   * Decorates and Validates user from the user response
   * - Used to verify that we want the user object
   * - Used to decorate the user object for saving
   */
  private decorateValidUser(data: any): any {
    let currentUser &#x3D; this.getUser()
    let newUser &#x3D; data[&#x27;user&#x27;] ? data[&#x27;user&#x27;] : {}
    let currentUsername &#x3D; currentUser.username
    let loggedInSessionLost &#x3D; currentUser.isLoggedIn ? (!newUser.username || currentUsername !&#x3D;&#x3D; newUser.username) : false;

    if (data[&#x27;status&#x27;] &#x3D;&#x3D;&#x3D; true) {
      // User is authorized - if you want to check ipAuth then you can tell on the individual route by user.isLoggedIn &#x3D; false
      let user &#x3D; data[&#x27;user&#x27;]
      user.status &#x3D; data[&#x27;status&#x27;]
      if (data[&#x27;isRememberMe&#x27;] || data[&#x27;remoteaccess&#x27;]) {
        user.isLoggedIn &#x3D; true
      }

      // Save ipAuthed flag to user object
      user.ipAuthed &#x3D; !user.isLoggedIn &amp;&amp; user.status ? true : false
      // If user downgraded from logged in user to ip auth or other, add flag
      user.loggedInSessionLost &#x3D; loggedInSessionLost

      if (this.canUserAccess(user)) {
        return user
      } else {
        return null
      }
    } else if (data[&#x27;status&#x27;] &#x3D;&#x3D;&#x3D; false) {
      // Return generic user object for unaffiliated users
      let user &#x3D; {
        &#x27;status&#x27;: false,
        &#x27;isLoggedIn&#x27;: false,
        &#x27;loggedInSessionLost&#x27;: loggedInSessionLost
      }
      return user
    } else {
      console.error(&#x27;Did not receive a valid user object&#x27;, data)
      return null
    }
  }

  private canUserAccess(user: any): boolean {
    return user &amp;&amp; user.hasOwnProperty(&#x27;status&#x27;) &amp;&amp; (this._app.config.disableIPAuth &#x3D;&#x3D;&#x3D; true ? user.isLoggedIn : true)
  }
}

export class User {
  public samlTokenId: string
  constructor(
    public username: string,
    public password: string,
  ) {}
}

interface SSLoginResponse {
  email: string
  firstname: string
  lastname: string
  active: boolean
  profileid: number
  userid: string
  institutionid: string
  ss: {
      admin_for: number[]
      enabled_for: number[]
  }
}
</code></pre>
    </div>
</div>




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
           </div>
       </div>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/search/search.js"></script>
       <script src="../js/search/lunr.min.js"></script>
       <script src="../js/search/search-lunr.js"></script>

       <script src="../js/menu.js"></script>
       <script src="../js/libs/highlight.pack.js"></script>
       <script src="../js/libs/highlightjs-line-numbers.min.js"></script>
       <script src="../js/search/search_index.js"></script>
       <script>
            document.addEventListener('DOMContentLoaded', function() {
                hljs.initHighlightingOnLoad();
                hljs.initLineNumbersOnLoad();
            });
       </script>

    </body>
</html>
